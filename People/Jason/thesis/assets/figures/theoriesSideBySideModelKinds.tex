% https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions#Figures
% The "[H]" means ~"place it precisely here".

\begin{figure}[H]
	\centering
	\caption{Side-by-side Comparison of \refTheoriesWithoutModelKinds{} and \refTheoriesWithModelKinds{}}
	\label{fig:theoriesWithModelKindsSideBySide}

	{\normalsize\center\textbf{Before Structured Encodings of Theories}}

    % Originally created with https://q.uiver.app/?q=WzAsNyxbOCw0XSxbMSwwLCJUaGVvcmllcyAoUmVsYXRpb25Db25jZXB0KSJdLFswLDAsIkV4cHJlc3Npb25zIChFeHByKSJdLFsyLDAsIk1hdGhlbWF0aWNhbCBLbm93bGVkZ2UiXSxbMiwxLCJRdWFudGl0eSBEZWZpbml0aW9ucyAoUURlZm5zKSJdLFsyLDIsIkNvZGUgKEdPT0wpIl0sWzEsMSwiU2NpZW50aWZpYyBSZXF1aXJlbWVudHMgU3BlY2lmaWNhdGlvbnMgKFNSUykiXSxbMiwxXSxbMSwzXSxbMyw0XSxbNCw1XSxbMSw2XV0=
    % But requires some post-processing
    \[\begin{tikzcd}[cramped,sep=small,align=center,ampersand replacement=\&]
            {\parbox{0.2\linewidth}{\centering Expression (\textit{Expr}) \\$+$ Description (Sentence)}}
            \& {\parbox{0.24\linewidth}{\centering Theory \\(\textit{RelationConcept})}}
            \& |[draw=orange, cloud, aspect=2.8, inner sep=0pt, line width=2]| {\parbox{0.18\linewidth}{\centering Mathematical Knowledge}} \\

            {\parbox{0.25\linewidth}{\centering \ACF{srs}}}
            \& {\parbox{0.1\linewidth}{\centering Code (\acs{gool})}}
            \& {\parbox{0.2\linewidth}{\centering Quantity Definition (\textit{QDefn})}} \\

            \arrow[line width=1, color=green, from=1-1, to=1-2]
            \arrow[line width=1, squiggly, color=red, from=1-2, to=1-3]
            \arrow[line width=1, squiggly, color=red, from=1-3, to=2-3]
            \arrow[line width=1, squiggly, color=red, from=2-3, to=2-2]
            \arrow[line width=1, color=green, from=1-2, to=2-1]
        \end{tikzcd}\]

    \footnotesize
    \begin{tabular}{llllll}
        \textcolor{green}{$\rightarrow$}    & Stable transformation   &
        \textcolor{red}{$\rightsquigarrow$} & Unstable transformation & 
        \tikz{\node[cloud, aspect=3, draw=orange] (c) at (0,0) {};} & Informally captured \\
    \end{tabular}

	{\normalsize\center\textbf{With Structured Encodings of Theories}}

	% Originally created with https://q.uiver.app/?q=WzAsNixbMSwxLCJNYXRoZW1hdGljYWwgS25vd2xlZGdlIChNb2RlbEtpbmRzKSJdLFsxLDIsIkNvZGUgKEdPT0wpIl0sWzAsMCwiRXF1YXRpb25hbE1vZGVsIChRRGVmbikiXSxbMSwwLCJFcXVhdGlvbmFsUmVhbG0gKE11bHRpRGVmbikiXSxbMiwwLCJldGMuIl0sWzAsMiwiU1JTIl0sWzAsMSwiT25seSBFcXVhdGlvbmFsIl0sWzIsMF0sWzMsMF0sWzQsMF0sWzAsNV1d
	% But requires some post-processing
	\[\begin{tikzcd}[cramped,sep=small,align=center,ampersand replacement=\&]
			{\parbox{0.25\linewidth}{\centering EquationalModel (\textit{QDefn Expr/ModelExpr})}}
			\& {\parbox{0.25\linewidth}{\centering EquationalRealm (\textit{MultiDefn Expr/ModelExpr})}}
			\& {\parbox{0.25\linewidth}{\centering etc.}} \\

			{\parbox{0.1\linewidth}{\centering \acs{srs}}}
			\& |[draw=green, cloud, aspect=2.8, inner sep=0pt, line width=2]| {\parbox{0.25\linewidth}{\centering Mathematical Knowledge (\textit{ModelKinds})}}
			\& {\parbox{0.1\linewidth}{\centering Code (\acs{gool})}} \\

			\arrow[line width=1, squiggly, color=blue, from=2-2, to=2-3]
			\arrow[line width=1, color=green, from=1-1, to=2-2]
			\arrow[line width=1, color=green, from=1-2, to=2-2]
			\arrow[line width=1, color=green, from=1-3, to=2-2]
			\arrow[line width=1, color=green, from=2-2, to=2-1]
		\end{tikzcd}\]
	\vspace{-2em}

	\footnotesize
	\begin{tabular}{llllll}
		\textcolor{green}{$\rightarrow$}                           & Stable transformation    &
		\textcolor{blue}{$\rightsquigarrow$}                       & Imperfect transformation &
		\tikz{\node[cloud, aspect=3, draw=green] (c) at (0,0) {};} & Formally captured          \\ \\
	\end{tabular}
\end{figure}
