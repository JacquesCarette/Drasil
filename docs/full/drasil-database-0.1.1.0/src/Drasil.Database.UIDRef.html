<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Drasil.Database.UIDRef</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-2"></span><span>  </span><span class="annot"><span class="hs-comment">-- * 'UID' References</span></span><span>
</span><span id="line-3"></span><span>  </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier">UIDRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#hide"><span class="hs-identifier">hide</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#unhide"><span class="hs-identifier">unhide</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#unhideOrErr"><span class="hs-identifier">unhideOrErr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>  </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier">UnitypedUIDRef</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#hideUni"><span class="hs-identifier">hideUni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#unhideUni"><span class="hs-identifier">unhideUni</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#unhideUniOrErr"><span class="hs-identifier">unhideUniOrErr</span></a></span><span>
</span><span id="line-5"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html"><span class="hs-identifier">Drasil.Database.Chunk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier">TypeableChunk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#HasChunkRefs"><span class="hs-identifier">HasChunkRefs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Drasil.Database.ChunkDB.html"><span class="hs-identifier">Drasil.Database.ChunkDB</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.ChunkDB.html#ChunkDB"><span class="hs-identifier">ChunkDB</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.ChunkDB.html#find"><span class="hs-identifier">find</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Drasil.Database.UID.html"><span class="hs-identifier">Drasil.Database.UID</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UID.html#HasUID"><span class="hs-identifier">HasUID</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier">UID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">singleton</span></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">-- | A reference to another chunk through its 'UID', with a type variable to</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- retain information about the original chunk's type, useful for type-safe</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- dereferencing.</span><span>
</span><span id="line-18"></span><span class="hs-keyword">newtype</span><span> </span><span id="UIDRef"><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-var">UIDRef</span></a></span></span><span> </span><span id="local-6989586621679107162"><span class="annot"><a href="#local-6989586621679107162"><span class="hs-identifier hs-type">typ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UIDRef"><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-var">UIDRef</span></a></span></span><span> </span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679107149"><span class="annot"><a href="Drasil.Database.Chunk.html#HasChunkRefs"><span class="hs-identifier hs-type">HasChunkRefs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-type">UIDRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107149"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-comment">-- | A 'UIDRef t' carries a 'UID' referring to a chunk of type 't'.</span><span>
</span><span id="line-22"></span><span>  </span><span id="local-6989586621679107202"><span class="annot"><span class="annottext">chunkRefs :: UIDRef t -&gt; Set UID
</span><a href="#local-6989586621679107202"><span class="hs-identifier hs-var hs-var hs-var hs-var">chunkRefs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-type">UIDRef</span></a></span><span> </span><span id="local-6989586621679107204"><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107204"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; Set UID
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">S.singleton</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107204"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#chunkRefs"><span class="hs-pragma hs-type">chunkRefs</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="annot"><span class="hs-comment">-- | Create a 'UIDRef' to a chunk.</span></span><span>
</span><span id="line-26"></span><span id="local-6989586621679107151"><span class="annot"><a href="Drasil.Database.UIDRef.html#hide"><span class="hs-identifier hs-type">hide</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier hs-type">TypeableChunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107151"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107151"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-type">UIDRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107151"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-27"></span><span id="hide"><span class="annot"><span class="annottext">hide :: forall t. TypeableChunk t =&gt; t -&gt; UIDRef t
</span><a href="Drasil.Database.UIDRef.html#hide"><span class="hs-identifier hs-var hs-var">hide</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; UIDRef t
forall typ. UID -&gt; UIDRef typ
</span><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-var">UIDRef</span></a></span><span> </span><span class="annot"><span class="annottext">(UID -&gt; UIDRef t) -&gt; (t -&gt; UID) -&gt; t -&gt; UIDRef t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Getting UID t UID -&gt; UID
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting UID t UID
forall c. HasUID c =&gt; Getter c UID
Getter t UID
</span><a href="Drasil.Database.UID.html#uid"><span class="hs-identifier hs-var">uid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="annot"><span class="hs-comment">-- | Find a chunk by a 'UIDRef'.</span></span><span>
</span><span id="line-30"></span><span id="local-6989586621679107171"><span class="annot"><a href="Drasil.Database.UIDRef.html#unhide"><span class="hs-identifier hs-type">unhide</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier hs-type">TypeableChunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107171"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-type">UIDRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107171"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.ChunkDB.html#ChunkDB"><span class="hs-identifier hs-type">ChunkDB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679107171"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-31"></span><span id="unhide"><span class="annot"><span class="annottext">unhide :: forall t. TypeableChunk t =&gt; UIDRef t -&gt; ChunkDB -&gt; Maybe t
</span><a href="Drasil.Database.UIDRef.html#unhide"><span class="hs-identifier hs-var hs-var">unhide</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-type">UIDRef</span></a></span><span> </span><span id="local-6989586621679107218"><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107218"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; ChunkDB -&gt; Maybe t
forall a. Typeable a =&gt; UID -&gt; ChunkDB -&gt; Maybe a
</span><a href="Drasil.Database.ChunkDB.html#find"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107218"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="annot"><span class="hs-comment">-- | Find a chunk by a 'UIDRef', erroring if not found.</span></span><span>
</span><span id="line-34"></span><span id="local-6989586621679107175"><span class="annot"><a href="Drasil.Database.UIDRef.html#unhideOrErr"><span class="hs-identifier hs-type">unhideOrErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier hs-type">TypeableChunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107175"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UIDRef"><span class="hs-identifier hs-type">UIDRef</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107175"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.ChunkDB.html#ChunkDB"><span class="hs-identifier hs-type">ChunkDB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107175"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-35"></span><span id="unhideOrErr"><span class="annot"><span class="annottext">unhideOrErr :: forall t. TypeableChunk t =&gt; UIDRef t -&gt; ChunkDB -&gt; t
</span><a href="Drasil.Database.UIDRef.html#unhideOrErr"><span class="hs-identifier hs-var hs-var">unhideOrErr</span></a></span></span><span> </span><span id="local-6989586621679107223"><span class="annot"><span class="annottext">UIDRef t
</span><a href="#local-6989586621679107223"><span class="hs-identifier hs-var">tu</span></a></span></span><span> </span><span id="local-6989586621679107224"><span class="annot"><span class="annottext">ChunkDB
</span><a href="#local-6989586621679107224"><span class="hs-identifier hs-var">cdb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Maybe t -&gt; t
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; t
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Typed UID dereference failed.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UIDRef t -&gt; ChunkDB -&gt; Maybe t
forall t. TypeableChunk t =&gt; UIDRef t -&gt; ChunkDB -&gt; Maybe t
</span><a href="Drasil.Database.UIDRef.html#unhide"><span class="hs-identifier hs-var">unhide</span></a></span><span> </span><span class="annot"><span class="annottext">UIDRef t
</span><a href="#local-6989586621679107223"><span class="hs-identifier hs-var">tu</span></a></span><span> </span><span class="annot"><span class="annottext">ChunkDB
</span><a href="#local-6989586621679107224"><span class="hs-identifier hs-var">cdb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-comment">-- | A variant of 'UIDRef' without type information about the chunk being</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- referred to, effectively treating chunks as being &quot;unityped.&quot;</span><span>
</span><span id="line-39"></span><span class="hs-keyword">newtype</span><span> </span><span id="UnitypedUIDRef"><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-var">UnitypedUIDRef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnitypedUIDRef"><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-var">UnitypedUIDRef</span></a></span></span><span> </span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#HasChunkRefs"><span class="hs-identifier hs-type">HasChunkRefs</span></a></span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-type">UnitypedUIDRef</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-comment">-- | A 'UnitypedUIDRef t' carries a 'UID' referring to another chunk.</span><span>
</span><span id="line-43"></span><span>  </span><span id="local-6989586621679107229"><span class="annot"><span class="annottext">chunkRefs :: UnitypedUIDRef -&gt; Set UID
</span><a href="Drasil.Database.Chunk.html#chunkRefs"><span class="hs-identifier hs-var hs-var hs-var hs-var">chunkRefs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-type">UnitypedUIDRef</span></a></span><span> </span><span id="local-6989586621679107230"><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107230"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; Set UID
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">S.singleton</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107230"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-pragma">{-# INLINABLE</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#chunkRefs"><span class="hs-pragma hs-type">chunkRefs</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="annot"><span class="hs-comment">-- | Create a 'UnitypedUIDRef' to a chunk.</span></span><span>
</span><span id="line-47"></span><span id="local-6989586621679107182"><span class="annot"><a href="Drasil.Database.UIDRef.html#hideUni"><span class="hs-identifier hs-type">hideUni</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier hs-type">TypeableChunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107182"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107182"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-type">UnitypedUIDRef</span></a></span></span><span>
</span><span id="line-48"></span><span id="hideUni"><span class="annot"><span class="annottext">hideUni :: forall t. TypeableChunk t =&gt; t -&gt; UnitypedUIDRef
</span><a href="Drasil.Database.UIDRef.html#hideUni"><span class="hs-identifier hs-var hs-var">hideUni</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; UnitypedUIDRef
</span><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-var">UnitypedUIDRef</span></a></span><span> </span><span class="annot"><span class="annottext">(UID -&gt; UnitypedUIDRef) -&gt; (t -&gt; UID) -&gt; t -&gt; UnitypedUIDRef
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; Getting UID t UID -&gt; UID
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting UID t UID
forall c. HasUID c =&gt; Getter c UID
Getter t UID
</span><a href="Drasil.Database.UID.html#uid"><span class="hs-identifier hs-var">uid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><span class="hs-comment">-- | Find a chunk by its 'UnitypedUIDRef'.</span></span><span>
</span><span id="line-51"></span><span id="local-6989586621679107184"><span class="annot"><a href="Drasil.Database.UIDRef.html#unhideUni"><span class="hs-identifier hs-type">unhideUni</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier hs-type">TypeableChunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107184"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-type">UnitypedUIDRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.ChunkDB.html#ChunkDB"><span class="hs-identifier hs-type">ChunkDB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679107184"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-52"></span><span id="unhideUni"><span class="annot"><span class="annottext">unhideUni :: forall t. TypeableChunk t =&gt; UnitypedUIDRef -&gt; ChunkDB -&gt; Maybe t
</span><a href="Drasil.Database.UIDRef.html#unhideUni"><span class="hs-identifier hs-var hs-var">unhideUni</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-type">UnitypedUIDRef</span></a></span><span> </span><span id="local-6989586621679107240"><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107240"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; ChunkDB -&gt; Maybe t
forall a. Typeable a =&gt; UID -&gt; ChunkDB -&gt; Maybe a
</span><a href="Drasil.Database.ChunkDB.html#find"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679107240"><span class="hs-identifier hs-var">u</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="annot"><span class="hs-comment">-- | Find a chunk by its 'UnitypedUIDRef', erroring if not found.</span></span><span>
</span><span id="line-55"></span><span id="local-6989586621679107186"><span class="annot"><a href="Drasil.Database.UIDRef.html#unhideUniOrErr"><span class="hs-identifier hs-type">unhideUniOrErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Drasil.Database.Chunk.html#TypeableChunk"><span class="hs-identifier hs-type">TypeableChunk</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679107186"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.UIDRef.html#UnitypedUIDRef"><span class="hs-identifier hs-type">UnitypedUIDRef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Drasil.Database.ChunkDB.html#ChunkDB"><span class="hs-identifier hs-type">ChunkDB</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679107186"><span class="hs-identifier hs-type">t</span></a></span></span><span>
</span><span id="line-56"></span><span id="unhideUniOrErr"><span class="annot"><span class="annottext">unhideUniOrErr :: forall t. TypeableChunk t =&gt; UnitypedUIDRef -&gt; ChunkDB -&gt; t
</span><a href="Drasil.Database.UIDRef.html#unhideUniOrErr"><span class="hs-identifier hs-var hs-var">unhideUniOrErr</span></a></span></span><span> </span><span id="local-6989586621679107245"><span class="annot"><span class="annottext">UnitypedUIDRef
</span><a href="#local-6989586621679107245"><span class="hs-identifier hs-var">tu</span></a></span></span><span> </span><span id="local-6989586621679107246"><span class="annot"><span class="annottext">ChunkDB
</span><a href="#local-6989586621679107246"><span class="hs-identifier hs-var">cdb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; Maybe t -&gt; t
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; t
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Untyped UID dereference failed.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitypedUIDRef -&gt; ChunkDB -&gt; Maybe t
forall t. TypeableChunk t =&gt; UnitypedUIDRef -&gt; ChunkDB -&gt; Maybe t
</span><a href="Drasil.Database.UIDRef.html#unhideUni"><span class="hs-identifier hs-var">unhideUni</span></a></span><span> </span><span class="annot"><span class="annottext">UnitypedUIDRef
</span><a href="#local-6989586621679107245"><span class="hs-identifier hs-var">tu</span></a></span><span> </span><span class="annot"><span class="annottext">ChunkDB
</span><a href="#local-6989586621679107246"><span class="hs-identifier hs-var">cdb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span></pre></body></html>