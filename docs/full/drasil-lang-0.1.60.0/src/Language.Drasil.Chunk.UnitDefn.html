<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# Language TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span class="annot"><span class="hs-comment">-- | For defining units built from a concept.</span></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language.Drasil.Chunk.UnitDefn</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-4"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Classes</span></span><span>
</span><span id="line-5"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#MayHaveUnit"><span class="hs-identifier">MayHaveUnit</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#getUnit"><span class="hs-identifier">getUnit</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Language.Drasil.Classes.html#IsUnit"><span class="hs-identifier">IsUnit</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.html#getUnits"><span class="hs-identifier">getUnits</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#TempHasUnit"><span class="hs-identifier">TempHasUnit</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#findUnit"><span class="hs-identifier">findUnit</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Chunk Type</span></span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier">UnitDefn</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Constructors</span></span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#makeDerU"><span class="hs-identifier">makeDerU</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#newUnit"><span class="hs-identifier">newUnit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derUC"><span class="hs-identifier">derUC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derUC%27"><span class="hs-identifier">derUC'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derUC%27%27"><span class="hs-identifier">derUC''</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#fund"><span class="hs-identifier">fund</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#fund%27"><span class="hs-identifier">fund'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC"><span class="hs-identifier">derCUC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC%27"><span class="hs-identifier">derCUC'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC%27%27"><span class="hs-identifier">derCUC''</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#unitWrapper"><span class="hs-identifier">unitWrapper</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Unit Combinators ('UnitEquation's)</span></span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%5E%3A"><span class="hs-operator">(^:)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2F%3A"><span class="hs-operator">(/:)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2A%3A"><span class="hs-operator">(*:)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2A%24"><span class="hs-operator">(*$)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2F%24"><span class="hs-operator">(/$)</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%5E%24"><span class="hs-operator">(^$)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Unit Relation Functions</span></span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#scale"><span class="hs-identifier">scale</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#shift"><span class="hs-identifier">shift</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Helpers</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Language.Drasil.UnitLang.html#fromUDefn"><span class="hs-identifier">fromUDefn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#unitCon"><span class="hs-identifier">unitCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier">getCu</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#compUnitDefn"><span class="hs-identifier">compUnitDefn</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">makeLenses</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">view</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">second</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.Concept.html"><span class="hs-identifier">Language.Drasil.Chunk.Concept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Chunk.Concept.Core.html#ConceptChunk"><span class="hs-identifier">ConceptChunk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier">dcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.Concept.html#cc%27"><span class="hs-identifier">cc'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html"><span class="hs-identifier">Language.Drasil.Classes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Chunk.NamedIdea.html#NamedIdea"><span class="hs-identifier">NamedIdea</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Chunk.NamedIdea.html#term"><span class="hs-identifier">term</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.NamedIdea.html#Idea"><span class="hs-identifier">Idea</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Chunk.NamedIdea.html#getA"><span class="hs-identifier">getA</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Language.Drasil.Classes.html#Definition"><span class="hs-identifier">Definition</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.html#defn"><span class="hs-identifier">defn</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#ConceptDomain"><span class="hs-identifier">ConceptDomain</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.html#cdom"><span class="hs-identifier">cdom</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#HasUnitSymbol"><span class="hs-identifier">HasUnitSymbol</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier">usymb</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#IsUnit"><span class="hs-identifier">IsUnit</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.html#udefn"><span class="hs-identifier">udefn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#getUnits"><span class="hs-identifier">getUnits</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.NounPhrase.html"><span class="hs-identifier">Language.Drasil.NounPhrase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.NounPhrase.html#cn"><span class="hs-identifier">cn</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Language.Drasil.NounPhrase.html#cn%27"><span class="hs-identifier">cn'</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Language.Drasil.NounPhrase.Core.html#NP"><span class="hs-identifier">NP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Symbol.html"><span class="hs-identifier">Language.Drasil.Symbol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Symbol.html#Symbol"><span class="hs-identifier">Symbol</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Symbol.html#Label"><span class="hs-identifier">Label</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html"><span class="hs-identifier">Language.Drasil.UnitLang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#USymb"><span class="hs-identifier">USymb</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier">US</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UDefn"><span class="hs-identifier">UDefn</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#UScale"><span class="hs-identifier">UScale</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#USynonym"><span class="hs-identifier">USynonym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UShift"><span class="hs-identifier">UShift</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Language.Drasil.UnitLang.html#compUSymb"><span class="hs-identifier">compUSymb</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#fromUDefn"><span class="hs-identifier">fromUDefn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#getUSymb"><span class="hs-identifier">getUSymb</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#getDefn"><span class="hs-identifier">getDefn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UnitSymbol"><span class="hs-identifier">UnitSymbol</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#BaseSI"><span class="hs-identifier">BaseSI</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier">DerivedSI</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#Defined"><span class="hs-identifier">Defined</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Drasil.Database.UID.html"><span class="hs-identifier">Drasil.Database.UID</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier">UID</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UID.html#HasUID"><span class="hs-identifier">HasUID</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Drasil.Database.UID.html#mkUid"><span class="hs-identifier">mkUid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-comment">-- | For defining units.</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- It has a 'ConceptChunk' (that defines what kind of unit it is),</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- a unit symbol, maybe another (when it is a synonym),</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- perhaps a definition, and a list of 'UID' of the units that make up</span><span>
</span><span id="line-39"></span><span class="hs-comment">-- the definition.</span><span>
</span><span id="line-40"></span><span class="hs-comment">--</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- Ex. Meter is a unit of length defined by the symbol (m).</span><span>
</span><span id="line-42"></span><span class="hs-keyword">data</span><span> </span><span id="UnitDefn"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-var">UnitDefn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UD"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="_vc"><span class="annot"><span class="annottext">UnitDefn -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#_vc"><span class="hs-identifier hs-var hs-var">_vc</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.Concept.Core.html#ConceptChunk"><span class="hs-identifier hs-type">ConceptChunk</span></a></span><span> </span><span>
</span><span id="line-43"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="_cas"><span class="annot"><span class="annottext">UnitDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.Chunk.UnitDefn.html#_cas"><span class="hs-identifier hs-var hs-var">_cas</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UnitSymbol"><span class="hs-identifier hs-type">UnitSymbol</span></a></span><span>
</span><span id="line-44"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="_cu"><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#_cu"><span class="hs-identifier hs-var hs-var">_cu</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-45"></span><span id="cas"><span id="cu"><span id="vc"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">UnitDefn</span></span></span></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="annot"><span class="hs-comment">-- | Finds 'UID' of the 'ConceptChunk' used to make the 'UnitDefn'.</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Drasil.Database.UID.html#HasUID"><span class="hs-identifier hs-type">HasUID</span></a></span><span>        </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679417979"><span class="annot"><span class="annottext">uid :: Getter UnitDefn UID
</span><a href="#local-6989586621679417979"><span class="hs-identifier hs-var hs-var hs-var hs-var">uid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConceptChunk -&gt; f ConceptChunk) -&gt; UnitDefn -&gt; f UnitDefn
Lens' UnitDefn ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#vc"><span class="hs-identifier hs-var">vc</span></a></span><span> </span><span class="annot"><span class="annottext">((ConceptChunk -&gt; f ConceptChunk) -&gt; UnitDefn -&gt; f UnitDefn)
-&gt; ((UID -&gt; f UID) -&gt; ConceptChunk -&gt; f ConceptChunk)
-&gt; (UID -&gt; f UID)
-&gt; UnitDefn
-&gt; f UnitDefn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(UID -&gt; f UID) -&gt; ConceptChunk -&gt; f ConceptChunk
forall c. HasUID c =&gt; Getter c UID
Getter ConceptChunk UID
</span><a href="Drasil.Database.UID.html#uid"><span class="hs-identifier hs-var">uid</span></a></span><span>
</span><span id="line-49"></span><span class="annot"><span class="hs-comment">-- | Finds term ('NP') of the 'ConceptChunk' used to make the 'UnitDefn'.</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.NamedIdea.html#NamedIdea"><span class="hs-identifier hs-type">NamedIdea</span></a></span><span>     </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679417992"><span class="annot"><span class="annottext">term :: Lens' UnitDefn NP
</span><a href="Language.Drasil.Chunk.NamedIdea.html#term"><span class="hs-identifier hs-var hs-var hs-var hs-var">term</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConceptChunk -&gt; f ConceptChunk) -&gt; UnitDefn -&gt; f UnitDefn
Lens' UnitDefn ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#vc"><span class="hs-identifier hs-var">vc</span></a></span><span> </span><span class="annot"><span class="annottext">((ConceptChunk -&gt; f ConceptChunk) -&gt; UnitDefn -&gt; f UnitDefn)
-&gt; ((NP -&gt; f NP) -&gt; ConceptChunk -&gt; f ConceptChunk)
-&gt; (NP -&gt; f NP)
-&gt; UnitDefn
-&gt; f UnitDefn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(NP -&gt; f NP) -&gt; ConceptChunk -&gt; f ConceptChunk
forall c. NamedIdea c =&gt; Lens' c NP
Lens' ConceptChunk NP
</span><a href="Language.Drasil.Chunk.NamedIdea.html#term"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-51"></span><span class="annot"><span class="hs-comment">-- | Finds the idea contained in the 'ConceptChunk' used to make the 'UnitDefn'.</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.NamedIdea.html#Idea"><span class="hs-identifier hs-type">Idea</span></a></span><span>          </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418001"><span class="annot"><span class="annottext">getA :: UnitDefn -&gt; Maybe String
</span><a href="Language.Drasil.Chunk.NamedIdea.html#getA"><span class="hs-identifier hs-var hs-var hs-var hs-var">getA</span></a></span></span><span> </span><span id="local-6989586621679418002"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418002"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; Maybe String
forall c. Idea c =&gt; c -&gt; Maybe String
</span><a href="Language.Drasil.Chunk.NamedIdea.html#getA"><span class="hs-identifier hs-var">getA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418002"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
-&gt; Getting ConceptChunk UnitDefn ConceptChunk -&gt; ConceptChunk
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting ConceptChunk UnitDefn ConceptChunk
Lens' UnitDefn ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#vc"><span class="hs-identifier hs-var">vc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="annot"><span class="hs-comment">-- | Finds definition of the 'ConceptChunk' used to make the 'UnitDefn'.</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#Definition"><span class="hs-identifier hs-type">Definition</span></a></span><span>    </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418011"><span class="annot"><span class="annottext">defn :: Lens' UnitDefn Sentence
</span><a href="Language.Drasil.Classes.html#defn"><span class="hs-identifier hs-var hs-var hs-var hs-var">defn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ConceptChunk -&gt; f ConceptChunk) -&gt; UnitDefn -&gt; f UnitDefn
Lens' UnitDefn ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#vc"><span class="hs-identifier hs-var">vc</span></a></span><span> </span><span class="annot"><span class="annottext">((ConceptChunk -&gt; f ConceptChunk) -&gt; UnitDefn -&gt; f UnitDefn)
-&gt; ((Sentence -&gt; f Sentence) -&gt; ConceptChunk -&gt; f ConceptChunk)
-&gt; (Sentence -&gt; f Sentence)
-&gt; UnitDefn
-&gt; f UnitDefn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Sentence -&gt; f Sentence) -&gt; ConceptChunk -&gt; f ConceptChunk
forall c. Definition c =&gt; Lens' c Sentence
Lens' ConceptChunk Sentence
</span><a href="Language.Drasil.Classes.html#defn"><span class="hs-identifier hs-var">defn</span></a></span><span>
</span><span id="line-55"></span><span class="annot"><span class="hs-comment">-- | Equal if 'Symbol's are equal.</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679418014"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span>            </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418022"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418022"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418023"><span class="annot"><span class="annottext">== :: UnitDefn -&gt; UnitDefn -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span id="local-6989586621679418024"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418024"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418022"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418024"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-57"></span><span class="annot"><span class="hs-comment">-- | Finds the domain contained in the 'ConceptChunk' used to make the 'UnitDefn'.</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#ConceptDomain"><span class="hs-identifier hs-type">ConceptDomain</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418032"><span class="annot"><span class="annottext">cdom :: UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Classes.html#cdom"><span class="hs-identifier hs-var hs-var hs-var hs-var">cdom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; [UID]
forall c. ConceptDomain c =&gt; c -&gt; [UID]
</span><a href="Language.Drasil.Classes.html#cdom"><span class="hs-identifier hs-var">cdom</span></a></span><span> </span><span class="annot"><span class="annottext">(ConceptChunk -&gt; [UID])
-&gt; (UnitDefn -&gt; ConceptChunk) -&gt; UnitDefn -&gt; [UID]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting ConceptChunk UnitDefn ConceptChunk
-&gt; UnitDefn -&gt; ConceptChunk
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting ConceptChunk UnitDefn ConceptChunk
Lens' UnitDefn ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#vc"><span class="hs-identifier hs-var">vc</span></a></span><span>
</span><span id="line-59"></span><span class="annot"><span class="hs-comment">-- | Finds unit symbol of the 'ConceptChunk' used to make the 'UnitDefn'.</span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#HasUnitSymbol"><span class="hs-identifier hs-type">HasUnitSymbol</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418037"><span class="annot"><span class="annottext">usymb :: UnitDefn -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var hs-var hs-var hs-var">usymb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitSymbol -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#getUSymb"><span class="hs-identifier hs-var">getUSymb</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitSymbol -&gt; USymb)
-&gt; (UnitDefn -&gt; UnitSymbol) -&gt; UnitDefn -&gt; USymb
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting UnitSymbol UnitDefn UnitSymbol -&gt; UnitDefn -&gt; UnitSymbol
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting UnitSymbol UnitDefn UnitSymbol
Lens' UnitDefn UnitSymbol
</span><a href="Language.Drasil.Chunk.UnitDefn.html#cas"><span class="hs-identifier hs-var">cas</span></a></span><span>
</span><span id="line-61"></span><span class="annot"><span class="hs-comment">-- | Gets the UnitDefn and contributing units. </span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#IsUnit"><span class="hs-identifier hs-type">IsUnit</span></a></span><span>        </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621679418049"><span class="annot"><span class="annottext">udefn :: UnitDefn -&gt; Maybe UDefn
</span><a href="Language.Drasil.Classes.html#udefn"><span class="hs-identifier hs-var hs-var hs-var hs-var">udefn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitSymbol -&gt; Maybe UDefn
</span><a href="Language.Drasil.UnitLang.html#getDefn"><span class="hs-identifier hs-var">getDefn</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitSymbol -&gt; Maybe UDefn)
-&gt; (UnitDefn -&gt; UnitSymbol) -&gt; UnitDefn -&gt; Maybe UDefn
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting UnitSymbol UnitDefn UnitSymbol -&gt; UnitDefn -&gt; UnitSymbol
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting UnitSymbol UnitDefn UnitSymbol
Lens' UnitDefn UnitSymbol
</span><a href="Language.Drasil.Chunk.UnitDefn.html#cas"><span class="hs-identifier hs-var">cas</span></a></span><span>  </span><span class="hs-comment">-- Finds unit definition of UnitDefn.</span><span>
</span><span id="line-64"></span><span>  </span><span id="local-6989586621679418052"><span class="annot"><span class="annottext">getUnits :: UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Classes.html#getUnits"><span class="hs-identifier hs-var hs-var hs-var hs-var">getUnits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting [UID] UnitDefn [UID] -&gt; UnitDefn -&gt; [UID]
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting [UID] UnitDefn [UID]
Lens' UnitDefn [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#cu"><span class="hs-identifier hs-var">cu</span></a></span><span>  </span><span class="hs-comment">-- Finds list of contributing units through UIDs from a UnitDefn.</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="annot"><span class="hs-comment">-- | Types may contain a unit ('UnitDefn').</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">class</span><span> </span><span id="MayHaveUnit"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#MayHaveUnit"><span class="hs-identifier hs-var">MayHaveUnit</span></a></span></span><span> </span><span id="local-6989586621679418053"><span class="annot"><a href="#local-6989586621679418053"><span class="hs-identifier hs-type">u</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-68"></span><span>   </span><span id="getUnit"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#getUnit"><span class="hs-identifier hs-type">getUnit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679418053"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="annot"><span class="hs-comment">-- | Temporary class to make sure chunks have a unit (in order to eventually get rid of 'MayHaveUnit').</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">class</span><span> </span><span id="TempHasUnit"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#TempHasUnit"><span class="hs-identifier hs-var">TempHasUnit</span></a></span></span><span> </span><span id="local-6989586621679418054"><span class="annot"><a href="#local-6989586621679418054"><span class="hs-identifier hs-type">u</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>   </span><span id="findUnit"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#findUnit"><span class="hs-identifier hs-type">findUnit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679418054"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="annot"><span class="hs-comment">-- | Takes a contributing unit (['UID']) and a symbol ('USymb').</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">data</span><span> </span><span id="UnitEquation"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-var">UnitEquation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UE"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span></span><span> </span><span class="hs-special">{</span><span id="_contributingUnit"><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#_contributingUnit"><span class="hs-identifier hs-var hs-var">_contributingUnit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-76"></span><span>                       </span><span class="hs-special">,</span><span> </span><span id="_us"><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
</span><a href="Language.Drasil.Chunk.UnitDefn.html#_us"><span class="hs-identifier hs-var hs-var">_us</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#USymb"><span class="hs-identifier hs-type">USymb</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-77"></span><span id="contributingUnit"><span id="us"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">UnitEquation</span></span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#HasUnitSymbol"><span class="hs-identifier hs-type">HasUnitSymbol</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418074"><span class="annot"><span class="annottext">usymb :: UnitEquation -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var hs-var hs-var hs-var">usymb</span></a></span></span><span> </span><span id="local-6989586621679418075"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418075"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418075"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; Getting USymb UnitEquation USymb -&gt; USymb
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting USymb UnitEquation USymb
Lens' UnitEquation USymb
</span><a href="Language.Drasil.Chunk.UnitDefn.html#us"><span class="hs-identifier hs-var">us</span></a></span><span>
</span><span id="line-79"></span><span class="annot"><span class="hs-comment">-- ^ Finds the unit symbol ('USymb') for a 'UnitEquation'.</span></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="annot"><span class="hs-comment">-- | Get a list of 'UID' of the units that make up the 'UnitEquation'.</span></span><span>
</span><span id="line-82"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-type">getCu</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-83"></span><span id="getCu"><span class="annot"><span class="annottext">getCu :: UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var hs-var">getCu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting [UID] UnitEquation [UID] -&gt; UnitEquation -&gt; [UID]
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting [UID] UnitEquation [UID]
Lens' UnitEquation [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#contributingUnit"><span class="hs-identifier hs-var">contributingUnit</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="annot"><span class="hs-comment">-- | Create a derived unit chunk from a concept and a unit equation.</span></span><span>
</span><span id="line-86"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#makeDerU"><span class="hs-identifier hs-type">makeDerU</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.Concept.Core.html#ConceptChunk"><span class="hs-identifier hs-type">ConceptChunk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-87"></span><span id="makeDerU"><span class="annot"><span class="annottext">makeDerU :: ConceptChunk -&gt; UnitEquation -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#makeDerU"><span class="hs-identifier hs-var hs-var">makeDerU</span></a></span></span><span> </span><span id="local-6989586621679418076"><span class="annot"><span class="annottext">ConceptChunk
</span><a href="#local-6989586621679418076"><span class="hs-identifier hs-var">concept</span></a></span></span><span> </span><span id="local-6989586621679418077"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418077"><span class="hs-identifier hs-var">eqn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="annot"><span class="annottext">ConceptChunk
</span><a href="#local-6989586621679418076"><span class="hs-identifier hs-var">concept</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#Defined"><span class="hs-identifier hs-var">Defined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418077"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#USynonym"><span class="hs-identifier hs-var">USynonym</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UDefn) -&gt; USymb -&gt; UDefn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418077"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var">getCu</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418077"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- FIXME: Shouldn't need to use the UID constructor here.</span><span>
</span><span id="line-90"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC"><span class="hs-identifier hs-type">derCUC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC%27"><span class="hs-identifier hs-type">derCUC'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-91"></span><span class="annot"><span class="hs-comment">-- | Create a 'SI_Unit' with two 'Symbol' representations. The created 'NP' is self-plural.</span></span><span>
</span><span id="line-92"></span><span id="derCUC"><span class="annot"><span class="annottext">derCUC :: String -&gt; String -&gt; String -&gt; Symbol -&gt; UnitEquation -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC"><span class="hs-identifier hs-var hs-var">derCUC</span></a></span></span><span> </span><span id="local-6989586621679418078"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418078"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418079"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418079"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679418080"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418080"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679418081"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418081"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679418082"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418082"><span class="hs-identifier hs-var">ue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418078"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn"><span class="hs-identifier hs-var">cn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418079"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418080"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-var">DerivedSI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418081"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418082"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#USynonym"><span class="hs-identifier hs-var">USynonym</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UDefn) -&gt; USymb -&gt; UDefn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418082"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; UID
</span><a href="Drasil.Database.UID.html#mkUid"><span class="hs-identifier hs-var">mkUid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418078"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span class="annot"><span class="hs-comment">-- | Similar to 'derCUC', but the created 'NP' has the 'AddS' plural rule.</span></span><span>
</span><span id="line-94"></span><span id="derCUC%27"><span class="annot"><span class="annottext">derCUC' :: String -&gt; String -&gt; String -&gt; Symbol -&gt; UnitEquation -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC%27"><span class="hs-identifier hs-var hs-var">derCUC'</span></a></span></span><span> </span><span id="local-6989586621679418083"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418083"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418084"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418084"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679418085"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418085"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679418086"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418086"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679418087"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418087"><span class="hs-identifier hs-var">ue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418083"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn%27"><span class="hs-identifier hs-var">cn'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418084"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418085"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-var">DerivedSI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418086"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418087"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#USynonym"><span class="hs-identifier hs-var">USynonym</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UDefn) -&gt; USymb -&gt; UDefn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418087"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; UID
</span><a href="Drasil.Database.UID.html#mkUid"><span class="hs-identifier hs-var">mkUid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418083"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-95"></span><span> </span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | Create a derived unit chunk from a 'UID', term ('String'), definition,</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- 'Symbol', and unit equation.</span><span>
</span><span id="line-98"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derUC"><span class="hs-identifier hs-type">derUC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derUC%27"><span class="hs-identifier hs-type">derUC'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UDefn"><span class="hs-identifier hs-type">UDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-99"></span><span class="annot"><span class="hs-comment">-- | Uses self-plural term.</span></span><span>
</span><span id="line-100"></span><span id="derUC"><span class="annot"><span class="annottext">derUC :: String -&gt; String -&gt; String -&gt; Symbol -&gt; UDefn -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#derUC"><span class="hs-identifier hs-var hs-var">derUC</span></a></span></span><span>  </span><span id="local-6989586621679418088"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418088"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418089"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418089"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679418090"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418090"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679418091"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418091"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679418092"><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418092"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418088"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn"><span class="hs-identifier hs-var">cn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418089"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418090"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-var">DerivedSI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418091"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UDefn -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#fromUDefn"><span class="hs-identifier hs-var">fromUDefn</span></a></span><span> </span><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418092"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418092"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-101"></span><span class="annot"><span class="hs-comment">-- | Uses term that pluralizes by adding &quot;s&quot; to the end.</span></span><span>
</span><span id="line-102"></span><span id="derUC%27"><span class="annot"><span class="annottext">derUC' :: String -&gt; String -&gt; String -&gt; Symbol -&gt; UDefn -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#derUC%27"><span class="hs-identifier hs-var hs-var">derUC'</span></a></span></span><span> </span><span id="local-6989586621679418093"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418093"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418094"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418094"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679418095"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418095"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679418096"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418096"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679418097"><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418097"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418093"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn%27"><span class="hs-identifier hs-var">cn'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418094"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418095"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-var">DerivedSI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418096"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UDefn -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#fromUDefn"><span class="hs-identifier hs-var">fromUDefn</span></a></span><span> </span><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418097"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418097"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | Create a derived unit chunk from a 'UID', term ('NP'), definition, </span><span>
</span><span id="line-105"></span><span class="hs-comment">-- 'Symbol', and unit equation.</span><span>
</span><span id="line-106"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC%27%27"><span class="hs-identifier hs-type">derCUC''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.NounPhrase.Core.html#NP"><span class="hs-identifier hs-type">NP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-107"></span><span id="derCUC%27%27"><span class="annot"><span class="annottext">derCUC'' :: String -&gt; NP -&gt; String -&gt; Symbol -&gt; UnitEquation -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#derCUC%27%27"><span class="hs-identifier hs-var hs-var">derCUC''</span></a></span></span><span> </span><span id="local-6989586621679418098"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418098"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418099"><span class="annot"><span class="annottext">NP
</span><a href="#local-6989586621679418099"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679418100"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418100"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679418101"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418101"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679418102"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418102"><span class="hs-identifier hs-var">ue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418098"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">NP
</span><a href="#local-6989586621679418099"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418100"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-var">DerivedSI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418101"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418102"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#USynonym"><span class="hs-identifier hs-var">USynonym</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UDefn) -&gt; USymb -&gt; UDefn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418102"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var">getCu</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418102"><span class="hs-identifier hs-var">ue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- | Create a derived unit chunk from a 'UID', term ('NP'), definition, </span><span>
</span><span id="line-109"></span><span class="hs-comment">-- 'Symbol', and unit equation.</span><span>
</span><span id="line-110"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#derUC%27%27"><span class="hs-identifier hs-type">derUC''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.NounPhrase.Core.html#NP"><span class="hs-identifier hs-type">NP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UDefn"><span class="hs-identifier hs-type">UDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-111"></span><span id="derUC%27%27"><span class="annot"><span class="annottext">derUC'' :: String -&gt; NP -&gt; String -&gt; Symbol -&gt; UDefn -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#derUC%27%27"><span class="hs-identifier hs-var hs-var">derUC''</span></a></span></span><span> </span><span id="local-6989586621679418103"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418103"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418104"><span class="annot"><span class="annottext">NP
</span><a href="#local-6989586621679418104"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679418105"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418105"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679418106"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418106"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679418107"><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418107"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418103"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">NP
</span><a href="#local-6989586621679418104"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418105"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-var">DerivedSI</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418106"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UDefn -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#fromUDefn"><span class="hs-identifier hs-var">fromUDefn</span></a></span><span> </span><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418107"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UDefn
</span><a href="#local-6989586621679418107"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-comment">--FIXME: Make this use a meaningful identifier.</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | Helper for fundamental unit concept chunk creation. Uses the same 'String'</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- for the identifier, term, and definition.</span><span>
</span><span id="line-116"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#unitCon"><span class="hs-identifier hs-type">unitCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.Concept.Core.html#ConceptChunk"><span class="hs-identifier hs-type">ConceptChunk</span></a></span><span>
</span><span id="line-117"></span><span id="unitCon"><span class="annot"><span class="annottext">unitCon :: String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#unitCon"><span class="hs-identifier hs-var hs-var">unitCon</span></a></span></span><span> </span><span id="local-6989586621679418108"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418108"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418108"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn%27"><span class="hs-identifier hs-var">cn'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418108"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418108"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-118"></span><span class="hs-comment">---------------------------------------------------------</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | For allowing lists to mix together chunks that are units by projecting them into a 'UnitDefn'.</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- For now, this only works on 'UnitDefn's. </span><span>
</span><span id="line-122"></span><span id="local-6989586621679417836"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#unitWrapper"><span class="hs-identifier hs-type">unitWrapper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.html#IsUnit"><span class="hs-identifier hs-type">IsUnit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679417836"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679417836"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span></span><span>
</span><span id="line-123"></span><span id="unitWrapper"><span class="annot"><span class="annottext">unitWrapper :: forall u. IsUnit u =&gt; u -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#unitWrapper"><span class="hs-identifier hs-var hs-var">unitWrapper</span></a></span></span><span> </span><span id="local-6989586621679418122"><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621679418122"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; Sentence -&gt; ConceptChunk
forall c. Idea c =&gt; c -&gt; Sentence -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#cc%27"><span class="hs-identifier hs-var">cc'</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621679418122"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621679418122"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">u -&gt; Getting Sentence u Sentence -&gt; Sentence
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting Sentence u Sentence
forall c. Definition c =&gt; Lens' c Sentence
Lens' u Sentence
</span><a href="Language.Drasil.Classes.html#defn"><span class="hs-identifier hs-var">defn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#Defined"><span class="hs-identifier hs-var">Defined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621679418122"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#USynonym"><span class="hs-identifier hs-var">USynonym</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UDefn) -&gt; USymb -&gt; UDefn
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">u -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621679418122"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">u -&gt; [UID]
forall u. IsUnit u =&gt; u -&gt; [UID]
</span><a href="Language.Drasil.Classes.html#getUnits"><span class="hs-identifier hs-var">getUnits</span></a></span><span> </span><span class="annot"><span class="annottext">u
</span><a href="#local-6989586621679418122"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="annot"><span class="hs-comment">-- | Helper to get derived units if they exist.</span></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#getSecondSymb"><span class="hs-identifier hs-type">getSecondSymb</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#USymb"><span class="hs-identifier hs-type">USymb</span></a></span><span>
</span><span id="line-127"></span><span id="getSecondSymb"><span class="annot"><span class="annottext">getSecondSymb :: UnitDefn -&gt; Maybe USymb
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getSecondSymb"><span class="hs-identifier hs-var hs-var">getSecondSymb</span></a></span></span><span> </span><span id="local-6989586621679418124"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418124"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitSymbol -&gt; Maybe USymb
</span><a href="#local-6989586621679418125"><span class="hs-identifier hs-var">get_symb2</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitSymbol -&gt; Maybe USymb) -&gt; UnitSymbol -&gt; Maybe USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Getting UnitSymbol UnitDefn UnitSymbol -&gt; UnitDefn -&gt; UnitSymbol
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting UnitSymbol UnitDefn UnitSymbol
Lens' UnitDefn UnitSymbol
</span><a href="Language.Drasil.Chunk.UnitDefn.html#cas"><span class="hs-identifier hs-var">cas</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418124"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><a href="#local-6989586621679418125"><span class="hs-identifier hs-type">get_symb2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UnitSymbol"><span class="hs-identifier hs-type">UnitSymbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#USymb"><span class="hs-identifier hs-type">USymb</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679418125"><span class="annot"><span class="annottext">get_symb2 :: UnitSymbol -&gt; Maybe USymb
</span><a href="#local-6989586621679418125"><span class="hs-identifier hs-var hs-var">get_symb2</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#BaseSI"><span class="hs-identifier hs-type">BaseSI</span></a></span><span> </span><span class="annot"><span class="annottext">USymb
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe USymb
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><a href="#local-6989586621679418125"><span class="hs-identifier hs-var">get_symb2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#DerivedSI"><span class="hs-identifier hs-type">DerivedSI</span></a></span><span> </span><span class="annot"><span class="annottext">USymb
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679418126"><span class="annot"><span class="annottext">USymb
</span><a href="#local-6989586621679418126"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="annottext">UDefn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">USymb -&gt; Maybe USymb
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">USymb
</span><a href="#local-6989586621679418126"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><a href="#local-6989586621679418125"><span class="hs-identifier hs-var">get_symb2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#Defined"><span class="hs-identifier hs-type">Defined</span></a></span><span> </span><span class="annot"><span class="annottext">USymb
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">UDefn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe USymb
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><span class="hs-comment">-- | Helper to break down unit symbols into 'BaseSI' units.</span></span><span>
</span><span id="line-135"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-type">helperUnit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Drasil.Database.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-136"></span><span id="helperUnit"><span class="annot"><span class="annottext">helperUnit :: UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var hs-var">helperUnit</span></a></span></span><span> </span><span id="local-6989586621679418128"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418128"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; Maybe USymb
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getSecondSymb"><span class="hs-identifier hs-var">getSecondSymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418128"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">USymb
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418128"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; Getting UID UnitDefn UID -&gt; UID
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting UID UnitDefn UID
forall c. HasUID c =&gt; Getter c UID
Getter UnitDefn UID
</span><a href="Drasil.Database.UID.html#uid"><span class="hs-identifier hs-var">uid</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="annottext">Maybe USymb
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
forall u. IsUnit u =&gt; u -&gt; [UID]
</span><a href="Language.Drasil.Classes.html#getUnits"><span class="hs-identifier hs-var">getUnits</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418128"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">--- These conveniences go here, because we need the class</span><span>
</span><span id="line-141"></span><span class="annot"><span class="hs-comment">-- | Combinator for raising a unit to a power.</span></span><span>
</span><span id="line-142"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%5E%3A"><span class="hs-operator hs-type">(^:)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span>
</span><span id="line-143"></span><span id="local-6989586621679418129"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418129"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="%5E%3A"><span class="annot"><span class="annottext">^: :: UnitDefn -&gt; Integer -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#%5E%3A"><span class="hs-operator hs-var hs-var">^:</span></a></span></span><span> </span><span id="local-6989586621679418130"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679418130"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[UID] -&gt; USymb -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418129"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; USymb
</span><a href="#local-6989586621679418131"><span class="hs-identifier hs-var">upow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418129"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span class="hs-comment">--u ^: i = UE ((helperUnit u) ^. uid) (upow (u ^. usymb))</span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621679418131"><span class="annot"><span class="annottext">upow :: USymb -&gt; USymb
</span><a href="#local-6989586621679418131"><span class="hs-identifier hs-var hs-var">upow</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418134"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418134"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="annot"><span class="annottext">([(Symbol, Integer)] -&gt; USymb) -&gt; [(Symbol, Integer)] -&gt; USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Symbol, Integer) -&gt; (Symbol, Integer))
-&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; (Symbol, Integer) -&gt; (Symbol, Integer)
forall b c d. (b -&gt; c) -&gt; (d, b) -&gt; (d, c)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (d, b) (d, c)
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679418130"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418134"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="annot"><span class="hs-comment">-- | Combinator for dividing one unit by another.</span></span><span>
</span><span id="line-149"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2F%3A"><span class="hs-operator hs-type">(/:)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span>
</span><span id="line-150"></span><span id="local-6989586621679418136"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418136"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span id="%2F%3A"><span class="annot"><span class="annottext">/: :: UnitDefn -&gt; UnitDefn -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#%2F%3A"><span class="hs-operator hs-var hs-var">/:</span></a></span></span><span> </span><span id="local-6989586621679418137"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418137"><span class="hs-identifier hs-var">u2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418139"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418139"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418136"><span class="hs-identifier hs-var">u1</span></a></span><span>
</span><span id="line-151"></span><span>               </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418141"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418141"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418137"><span class="hs-identifier hs-var">u2</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="annottext">[UID] -&gt; USymb -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418136"><span class="hs-identifier hs-var">u1</span></a></span><span> </span><span class="annot"><span class="annottext">[UID] -&gt; [UID] -&gt; [UID]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418137"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="annot"><span class="annottext">([(Symbol, Integer)] -&gt; USymb) -&gt; [(Symbol, Integer)] -&gt; USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418139"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((Symbol, Integer) -&gt; (Symbol, Integer))
-&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; (Symbol, Integer) -&gt; (Symbol, Integer)
forall b c d. (b -&gt; c) -&gt; (d, b) -&gt; (d, c)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (d, b) (d, c)
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418141"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="annot"><span class="hs-comment">-- | Combinator for multiplying two units together.</span></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2A%3A"><span class="hs-operator hs-type">(*:)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span>
</span><span id="line-156"></span><span id="local-6989586621679418142"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418142"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span id="%2A%3A"><span class="annot"><span class="annottext">*: :: UnitDefn -&gt; UnitDefn -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#%2A%3A"><span class="hs-operator hs-var hs-var">*:</span></a></span></span><span> </span><span id="local-6989586621679418143"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418143"><span class="hs-identifier hs-var">u2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418145"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418145"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418142"><span class="hs-identifier hs-var">u1</span></a></span><span>
</span><span id="line-157"></span><span>               </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418147"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418147"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418143"><span class="hs-identifier hs-var">u2</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="annottext">[UID] -&gt; USymb -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418142"><span class="hs-identifier hs-var">u1</span></a></span><span> </span><span class="annot"><span class="annottext">[UID] -&gt; [UID] -&gt; [UID]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418143"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="annot"><span class="annottext">([(Symbol, Integer)] -&gt; USymb) -&gt; [(Symbol, Integer)] -&gt; USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418145"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418147"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="annot"><span class="hs-comment">-- | Combinator for multiplying a unit and a symbol.</span></span><span>
</span><span id="line-161"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2A%24"><span class="hs-operator hs-type">(*$)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span>
</span><span id="line-162"></span><span id="local-6989586621679418148"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418148"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span id="%2A%24"><span class="annot"><span class="annottext">*$ :: UnitDefn -&gt; UnitEquation -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#%2A%24"><span class="hs-operator hs-var hs-var">*$</span></a></span></span><span> </span><span id="local-6989586621679418149"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418149"><span class="hs-identifier hs-var">u2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418151"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418151"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418148"><span class="hs-identifier hs-var">u1</span></a></span><span>
</span><span id="line-163"></span><span>               </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418153"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418153"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418149"><span class="hs-identifier hs-var">u2</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><span class="annottext">[UID] -&gt; USymb -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418148"><span class="hs-identifier hs-var">u1</span></a></span><span> </span><span class="annot"><span class="annottext">[UID] -&gt; [UID] -&gt; [UID]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var">getCu</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418149"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="annot"><span class="annottext">([(Symbol, Integer)] -&gt; USymb) -&gt; [(Symbol, Integer)] -&gt; USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418151"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418153"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><span class="hs-comment">-- | Combinator for dividing a unit and a symbol.</span></span><span>
</span><span id="line-167"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%2F%24"><span class="hs-operator hs-type">(/$)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span>
</span><span id="line-168"></span><span id="local-6989586621679418154"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418154"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span id="%2F%24"><span class="annot"><span class="annottext">/$ :: UnitDefn -&gt; UnitEquation -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#%2F%24"><span class="hs-operator hs-var hs-var">/$</span></a></span></span><span> </span><span id="local-6989586621679418155"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418155"><span class="hs-identifier hs-var">u2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418157"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418157"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418154"><span class="hs-identifier hs-var">u1</span></a></span><span>
</span><span id="line-169"></span><span>               </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418159"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418159"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418155"><span class="hs-identifier hs-var">u2</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><span class="annottext">[UID] -&gt; USymb -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#helperUnit"><span class="hs-identifier hs-var">helperUnit</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418154"><span class="hs-identifier hs-var">u1</span></a></span><span> </span><span class="annot"><span class="annottext">[UID] -&gt; [UID] -&gt; [UID]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var">getCu</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418155"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="annot"><span class="annottext">([(Symbol, Integer)] -&gt; USymb) -&gt; [(Symbol, Integer)] -&gt; USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418157"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((Symbol, Integer) -&gt; (Symbol, Integer))
-&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Integer -&gt; Integer) -&gt; (Symbol, Integer) -&gt; (Symbol, Integer)
forall b c d. (b -&gt; c) -&gt; (d, b) -&gt; (d, c)
forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (d, b) (d, c)
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418159"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><span class="hs-comment">-- | Combinator for mulitiplying two unit equations.</span></span><span>
</span><span id="line-173"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#%5E%24"><span class="hs-operator hs-type">(^$)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span>
</span><span id="line-174"></span><span id="local-6989586621679418160"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418160"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span id="%5E%24"><span class="annot"><span class="annottext">^$ :: UnitEquation -&gt; UnitEquation -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#%5E%24"><span class="hs-operator hs-var hs-var">^$</span></a></span></span><span> </span><span id="local-6989586621679418161"><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418161"><span class="hs-identifier hs-var">u2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418163"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418163"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418160"><span class="hs-identifier hs-var">u1</span></a></span><span>
</span><span id="line-175"></span><span>               </span><span class="annot"><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-type">US</span></a></span><span> </span><span id="local-6989586621679418165"><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418165"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418161"><span class="hs-identifier hs-var">u2</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><span class="annottext">[UID] -&gt; USymb -&gt; UnitEquation
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UE"><span class="hs-identifier hs-var">UE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var">getCu</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418160"><span class="hs-identifier hs-var">u1</span></a></span><span> </span><span class="annot"><span class="annottext">[UID] -&gt; [UID] -&gt; [UID]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UnitEquation -&gt; [UID]
</span><a href="Language.Drasil.Chunk.UnitDefn.html#getCu"><span class="hs-identifier hs-var">getCu</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEquation
</span><a href="#local-6989586621679418161"><span class="hs-identifier hs-var">u2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="annot"><span class="annottext">([(Symbol, Integer)] -&gt; USymb) -&gt; [(Symbol, Integer)] -&gt; USymb
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418163"><span class="hs-identifier hs-var">l1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; [(Symbol, Integer)] -&gt; [(Symbol, Integer)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)]
</span><a href="#local-6989586621679418165"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span> </span><span>
</span><span id="line-178"></span><span class="annot"><span class="hs-comment">-- | Combinator for scaling one unit by some number.</span></span><span>
</span><span id="line-179"></span><span id="local-6989586621679417847"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#scale"><span class="hs-identifier hs-type">scale</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#IsUnit"><span class="hs-identifier hs-type">IsUnit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679417847"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679417847"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UDefn"><span class="hs-identifier hs-type">UDefn</span></a></span></span><span>
</span><span id="line-180"></span><span id="scale"><span class="annot"><span class="annottext">scale :: forall s. IsUnit s =&gt; Double -&gt; s -&gt; UDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#scale"><span class="hs-identifier hs-var hs-var">scale</span></a></span></span><span> </span><span id="local-6989586621679418169"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679418169"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418170"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679418170"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#UScale"><span class="hs-identifier hs-var">UScale</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679418169"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679418170"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><span class="hs-comment">-- | Combinator for shifting one unit by some number.</span></span><span>
</span><span id="line-183"></span><span id="local-6989586621679418171"><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#shift"><span class="hs-identifier hs-type">shift</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.html#IsUnit"><span class="hs-identifier hs-type">IsUnit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679418171"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679418171"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.UnitLang.html#UDefn"><span class="hs-identifier hs-type">UDefn</span></a></span></span><span>
</span><span id="line-184"></span><span id="shift"><span class="annot"><span class="annottext">shift :: forall s. IsUnit s =&gt; Double -&gt; s -&gt; UDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#shift"><span class="hs-identifier hs-var hs-var">shift</span></a></span></span><span> </span><span id="local-6989586621679418175"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679418175"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418176"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679418176"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; USymb -&gt; UDefn
</span><a href="Language.Drasil.UnitLang.html#UShift"><span class="hs-identifier hs-var">UShift</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679418175"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679418176"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-comment">-- | Smart constructor for new derived units from existing units.</span></span><span>
</span><span id="line-187"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#newUnit"><span class="hs-identifier hs-type">newUnit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitEquation"><span class="hs-identifier hs-type">UnitEquation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-188"></span><span id="newUnit"><span class="annot"><span class="annottext">newUnit :: String -&gt; UnitEquation -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#newUnit"><span class="hs-identifier hs-var hs-var">newUnit</span></a></span></span><span> </span><span id="local-6989586621679418177"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418177"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitEquation -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#makeDerU"><span class="hs-identifier hs-var">makeDerU</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.UnitDefn.html#unitCon"><span class="hs-identifier hs-var">unitCon</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418177"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><span class="hs-comment">-- | Smart constructor for a &quot;fundamental&quot; unit.</span></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#fund"><span class="hs-identifier hs-type">fund</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-192"></span><span id="fund"><span class="annot"><span class="annottext">fund :: String -&gt; String -&gt; String -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#fund"><span class="hs-identifier hs-var hs-var">fund</span></a></span></span><span> </span><span id="local-6989586621679418178"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418178"><span class="hs-identifier hs-var">nam</span></a></span></span><span> </span><span id="local-6989586621679418179"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418179"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span id="local-6989586621679418180"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418180"><span class="hs-identifier hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418181"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn%27"><span class="hs-identifier hs-var">cn'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418178"><span class="hs-identifier hs-var">nam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418179"><span class="hs-identifier hs-var">desc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#BaseSI"><span class="hs-identifier hs-var">BaseSI</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UnitSymbol) -&gt; USymb -&gt; UnitSymbol
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Symbol
</span><a href="Language.Drasil.Symbol.html#Label"><span class="hs-identifier hs-var">Label</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418180"><span class="hs-identifier hs-var">sym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; UID
</span><a href="Drasil.Database.UID.html#mkUid"><span class="hs-identifier hs-var">mkUid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418181"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418181"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621679418181"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unit:&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418178"><span class="hs-identifier hs-var">nam</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="annot"><span class="hs-comment">-- | Variant of the 'fund', useful for degree.</span></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#fund%27"><span class="hs-identifier hs-type">fund'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Symbol.html#Symbol"><span class="hs-identifier hs-type">Symbol</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span>
</span><span id="line-197"></span><span id="fund%27"><span class="annot"><span class="annottext">fund' :: String -&gt; String -&gt; Symbol -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#fund%27"><span class="hs-identifier hs-var hs-var">fund'</span></a></span></span><span> </span><span id="local-6989586621679418182"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418182"><span class="hs-identifier hs-var">nam</span></a></span></span><span> </span><span id="local-6989586621679418183"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418183"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span id="local-6989586621679418184"><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418184"><span class="hs-identifier hs-var">sym</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConceptChunk -&gt; UnitSymbol -&gt; [UID] -&gt; UnitDefn
</span><a href="Language.Drasil.Chunk.UnitDefn.html#UD"><span class="hs-identifier hs-var">UD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP -&gt; String -&gt; ConceptChunk
</span><a href="Language.Drasil.Chunk.Concept.html#dcc"><span class="hs-identifier hs-var">dcc</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418185"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; NP
</span><a href="Language.Drasil.NounPhrase.html#cn%27"><span class="hs-identifier hs-var">cn'</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418182"><span class="hs-identifier hs-var">nam</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418183"><span class="hs-identifier hs-var">desc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">USymb -&gt; UnitSymbol
</span><a href="Language.Drasil.UnitLang.html#BaseSI"><span class="hs-identifier hs-var">BaseSI</span></a></span><span> </span><span class="annot"><span class="annottext">(USymb -&gt; UnitSymbol) -&gt; USymb -&gt; UnitSymbol
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Symbol, Integer)] -&gt; USymb
</span><a href="Language.Drasil.UnitLang.html#US"><span class="hs-identifier hs-var">US</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Symbol
</span><a href="#local-6989586621679418184"><span class="hs-identifier hs-var">sym</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; UID
</span><a href="Drasil.Database.UID.html#mkUid"><span class="hs-identifier hs-var">mkUid</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418185"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679418185"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621679418185"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unit:&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679418182"><span class="hs-identifier hs-var">nam</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><span class="hs-comment">-- | We don't want an Ord on units, but this still allows us to compare them.</span></span><span>
</span><span id="line-201"></span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#compUnitDefn"><span class="hs-identifier hs-type">compUnitDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Chunk.UnitDefn.html#UnitDefn"><span class="hs-identifier hs-type">UnitDefn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span>
</span><span id="line-202"></span><span id="compUnitDefn"><span class="annot"><span class="annottext">compUnitDefn :: UnitDefn -&gt; UnitDefn -&gt; Ordering
</span><a href="Language.Drasil.Chunk.UnitDefn.html#compUnitDefn"><span class="hs-identifier hs-var hs-var">compUnitDefn</span></a></span></span><span> </span><span id="local-6989586621679418186"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418186"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679418187"><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418187"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">USymb -&gt; USymb -&gt; Ordering
</span><a href="Language.Drasil.UnitLang.html#compUSymb"><span class="hs-identifier hs-var">compUSymb</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418186"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitDefn -&gt; USymb
forall u. HasUnitSymbol u =&gt; u -&gt; USymb
</span><a href="Language.Drasil.Classes.html#usymb"><span class="hs-identifier hs-var">usymb</span></a></span><span> </span><span class="annot"><span class="annottext">UnitDefn
</span><a href="#local-6989586621679418187"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span></pre></body></html>