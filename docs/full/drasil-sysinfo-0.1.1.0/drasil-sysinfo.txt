-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


-- | A framework for code and document generation for scientific software - SystemInformation SubPackage
--   
--   Please see the README on GitHub at
--   <a>https://github.com/JacquesCarette/Drasil#readme</a>
@package drasil-sysinfo
@version 0.1.1.0


-- | Utilities to get grab certain chunks (from <a>Expr</a>,
--   <a>Sentence</a>, etc) by <a>UID</a> and dereference the chunk it
--   refers to.
module SysInfo.Drasil.GetChunk

-- | Gets a list of defined quantities (<a>DefinedQuantityDict</a>s) from
--   <a>Sentence</a>s and expressions that are contained in the database
--   (<a>ChunkDB</a>).
ccss :: [Sentence] -> [ModelExpr] -> ChunkDB -> [DefinedQuantityDict]

-- | Gets a list of quantities (<a>QuantityDict</a>s) from <a>Sentence</a>s
--   and expressions that are contained in the database (<a>ChunkDB</a>).
ccss' :: [Sentence] -> [ModelExpr] -> ChunkDB -> [QuantityDict]

-- | Combines the functions of <a>vars</a> and <a>concpt</a> to create a
--   list of <a>DefinedQuantityDict</a>s from a <a>Sentence</a>.
combine :: Sentence -> ChunkDB -> [DefinedQuantityDict]

-- | Gets a list of ideas (<a>IdeaDict</a>) from a <a>Sentence</a> in order
--   to print.
getIdeaDict :: Sentence -> ChunkDB -> [IdeaDict]

-- | Gets a list of quantities (<a>QuantityDict</a>) from an equation in
--   order to print.
vars :: ModelExpr -> ChunkDB -> [QuantityDict]


-- | Define types and functions related to creating a system information
--   database.
module SysInfo.Drasil.SystemInformation

-- | Data structure for holding all of the requisite information about a
--   system to be used in artifact generation.
data SystemInformation
[SI] :: (CommonIdea a, Idea a, Idea b, HasName c, Quantity e, Eq e, MayHaveUnit e, Quantity f, MayHaveUnit f, Concept f, Eq f, Quantity h, MayHaveUnit h, Quantity i, MayHaveUnit i, HasUID j, Constrained j) => {_sys :: a, _kind :: b, _authors :: [c], _purpose :: d, _quants :: [e], _concepts :: [f], _instModels :: [InstanceModel], _datadefs :: [DataDefinition], _configFiles :: [String], _inputs :: [h], _outputs :: [i], _defSequence :: [Block SimpleQDef], _constraints :: [j], _constants :: [ConstQDef], _sysinfodb :: ChunkDB, _usedinfodb :: ChunkDB, refdb :: ReferenceDB} -> SystemInformation

-- | for listing <a>QDefinition</a>s in <a>SystemInformation</a>.
data Block a
Coupled :: a -> a -> [a] -> Block a
Parallel :: a -> [a] -> Block a
instModels :: Lens' SystemInformation [InstanceModel]
datadefs :: Lens' SystemInformation [DataDefinition]
configFiles :: Lens' SystemInformation [String]

-- | Provides a <tt>Lens</tt> that holds a <a>QuantityDict</a> and maybe
--   constraints.
inputs :: HasInputs c => Lens' c [(QuantityDict, Maybe (RealInterval Expr Expr))]
defSequence :: Lens' SystemInformation [Block SimpleQDef]

-- | Provides a <tt>Lens</tt> to the <tt>Constraint</tt>s.
constraints :: Constrained c => Lens' c [ConstraintE]
constants :: Lens' SystemInformation [ConstQDef]
sysinfodb :: Lens' SystemInformation ChunkDB
usedinfodb :: Lens' SystemInformation ChunkDB

-- | Helper for extracting a bibliography from the system information.
citeDB :: SystemInformation -> BibRef

-- | Create sorted citations from a bibliography.
citationsFromBibMap :: BibMap -> [Citation]

-- | Database for internal references. Contains citations and referrable
--   concepts.
data ReferenceDB

-- | Database for maintaining references. The Int is that reference's
--   number. Maintains access to both num and chunk for easy reference
--   swapping between number and shortname/refname when necessary (or use
--   of number if no shortname exists).
type RefMap a = Map UID (a, Int)

-- | Smart constructor for creating a reference database from a
--   bibliography and concept instances.
rdb :: BibRef -> [ConceptInstance] -> ReferenceDB

-- | Constructor that makes a <a>RefMap</a> from things that have a
--   <a>UID</a>.
simpleMap :: HasUID a => [a] -> RefMap a
citationDB :: Lens' ReferenceDB BibMap
conceptDB :: Lens' ReferenceDB ConceptMap

module SysInfo.Drasil

-- | Data structure for holding all of the requisite information about a
--   system to be used in artifact generation.
data SystemInformation
[SI] :: (CommonIdea a, Idea a, Idea b, HasName c, Quantity e, Eq e, MayHaveUnit e, Quantity f, MayHaveUnit f, Concept f, Eq f, Quantity h, MayHaveUnit h, Quantity i, MayHaveUnit i, HasUID j, Constrained j) => {_sys :: a, _kind :: b, _authors :: [c], _purpose :: d, _quants :: [e], _concepts :: [f], _instModels :: [InstanceModel], _datadefs :: [DataDefinition], _configFiles :: [String], _inputs :: [h], _outputs :: [i], _defSequence :: [Block SimpleQDef], _constraints :: [j], _constants :: [ConstQDef], _sysinfodb :: ChunkDB, _usedinfodb :: ChunkDB, refdb :: ReferenceDB} -> SystemInformation

-- | for listing <a>QDefinition</a>s in <a>SystemInformation</a>.
data Block a
Parallel :: a -> [a] -> Block a
sysinfodb :: Lens' SystemInformation ChunkDB

-- | Database for internal references. Contains citations and referrable
--   concepts.
data ReferenceDB

-- | Database for maintaining references. The Int is that reference's
--   number. Maintains access to both num and chunk for easy reference
--   swapping between number and shortname/refname when necessary (or use
--   of number if no shortname exists).
type RefMap a = Map UID (a, Int)

-- | Helper for extracting a bibliography from the system information.
citeDB :: SystemInformation -> BibRef

-- | Smart constructor for creating a reference database from a
--   bibliography and concept instances.
rdb :: BibRef -> [ConceptInstance] -> ReferenceDB

-- | Constructor that makes a <a>RefMap</a> from things that have a
--   <a>UID</a>.
simpleMap :: HasUID a => [a] -> RefMap a
citationDB :: Lens' ReferenceDB BibMap
conceptDB :: Lens' ReferenceDB ConceptMap

-- | Gets a list of defined quantities (<a>DefinedQuantityDict</a>s) from
--   <a>Sentence</a>s and expressions that are contained in the database
--   (<a>ChunkDB</a>).
ccss :: [Sentence] -> [ModelExpr] -> ChunkDB -> [DefinedQuantityDict]

-- | Gets a list of quantities (<a>QuantityDict</a>s) from <a>Sentence</a>s
--   and expressions that are contained in the database (<a>ChunkDB</a>).
ccss' :: [Sentence] -> [ModelExpr] -> ChunkDB -> [QuantityDict]

-- | Combines the functions of <a>vars</a> and <a>concpt</a> to create a
--   list of <a>DefinedQuantityDict</a>s from a <a>Sentence</a>.
combine :: Sentence -> ChunkDB -> [DefinedQuantityDict]

-- | Gets a list of ideas (<a>IdeaDict</a>) from a <a>Sentence</a> in order
--   to print.
getIdeaDict :: Sentence -> ChunkDB -> [IdeaDict]

-- | Gets a list of quantities (<a>QuantityDict</a>) from an equation in
--   order to print.
vars :: ModelExpr -> ChunkDB -> [QuantityDict]
