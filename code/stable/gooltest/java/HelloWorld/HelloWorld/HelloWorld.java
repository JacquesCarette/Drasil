package HelloWorld;

/** \file HelloWorld.java
    \author Brandon Bosman
    \brief Advent of Code Day 1
    \note Generated by Drasil v0.1-alpha
*/

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Scanner;

public class HelloWorld {
    
    public static void main(String[] args) throws Exception, FileNotFoundException {
        // Get input
        String filePath = "../../../../drasil-code/test/input.txt";
        Scanner fileHandle;
        ArrayList<String> fileContents;
        fileHandle = new Scanner(new File(filePath));
        while (fileHandle.hasNextLine()) {
            fileContents.add(fileHandle.nextLine());
        }
        fileHandle.close();
        
        // Process input
        ArrayList<Integer> list1 = {};
        ArrayList<Integer> list2 = {};
        for (String line : fileContents) {
            ArrayList<String> splitLine;
            splitLine = new ArrayList<String>(Arrays.asList(line.split(" ")));
            list1.add(strToInt(splitLine.get(0)));
            list2.add(strToInt(splitLine.get(3)));
        }
        selectionSort(list1);
        selectionSort(list2);
        
        // Calculate distance and print out
        int distance = 0;
        for (int i = 0; i < list1.size(); i += 1) {
            int partDistance = list1.get(i) - list2.get(i);
            if (partDistance < 0) {
                partDistance = -partDistance;
            }
            distance += partDistance;
        }
        System.out.print("Distance: ");
        System.out.println(distance);
    }
    
    /** \brief Converts a string to integer
        \param str String to be converted
        \return Integer value of the string
    */
    public static int strToInt(ArrayList<char> str) throws Exception {
        int val = 0;
        for (int i = 0; i < str.size(); i += 1) {
            int digit;
            switch(str.get(i)) {
                case '0':
                    digit = 0;
                    break;
                case '1':
                    digit = 1;
                    break;
                case '2':
                    digit = 2;
                    break;
                case '3':
                    digit = 3;
                    break;
                case '4':
                    digit = 4;
                    break;
                case '5':
                    digit = 5;
                    break;
                case '6':
                    digit = 6;
                    break;
                case '7':
                    digit = 7;
                    break;
                case '8':
                    digit = 8;
                    break;
                case '9':
                    digit = 9;
                    break;
                case ' ':
                    continue;
                    break;
                case '\n':
                    continue;
                    break;
                default:
                    throw new Exception("Non-integer string given");
                    break;
            };
            val = 10 * val + digit;
        }
        return val;
    }
    
    /** \brief Sorts a list of integers
        \param xs List to be sorted
    */
    public static void selectionSort(ArrayList<Integer> xs) {
        for (int i = 0; i < xs.size() - 1; i += 1) {
            int maxIdx = i;
            for (int j = i + 1; j < xs.size(); j += 1) {
                if (xs.get(j) < xs.get(maxIdx)) {
                    maxIdx = j;
                }
            }
            int temp = xs.get(i);
            xs.set(i, xs.get(maxIdx));
            xs.set(maxIdx, temp);
        }
    }
}
