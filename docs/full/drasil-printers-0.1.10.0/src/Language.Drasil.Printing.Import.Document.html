<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">-- | Defines functions to transform Drasil-based documents into a printable version.</span></span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language.Drasil.Printing.Import.Document</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">bimap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">second</span></span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Drasil</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">neg</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sec</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">symbol</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isIn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">codeExpr</span></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Drasil.Code.CodeExpr.Development</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">expr</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Drasil.Database</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">showUID</span></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.AST.html"><span class="hs-identifier">Language.Drasil.Printing.AST</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.Citation.html"><span class="hs-identifier">Language.Drasil.Printing.Citation</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html"><span class="hs-identifier">Language.Drasil.Printing.LayoutObj</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html"><span class="hs-identifier">Language.Drasil.Printing.PrintingInformation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier">PrintingInformation</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.Import.ModelExpr.html"><span class="hs-identifier">Language.Drasil.Printing.Import.ModelExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.Import.ModelExpr.html#modelExpr"><span class="hs-identifier">modelExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.Import.CodeExpr.html"><span class="hs-identifier">Language.Drasil.Printing.Import.CodeExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.Import.CodeExpr.html#codeExpr"><span class="hs-identifier">codeExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.Import.Sentence.html"><span class="hs-identifier">Language.Drasil.Printing.Import.Sentence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier">spec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="annot"><span class="hs-comment">-- * Main Function</span></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="annot"><span class="hs-comment">-- | Translates from 'Document' to a printable representation of 'T.Document'.</span></span><span>
</span><span id="line-23"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeDocument"><span class="hs-identifier hs-type">makeDocument</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Document</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Document"><span class="hs-identifier hs-type">T.Document</span></a></span><span>
</span><span id="line-24"></span><span id="makeDocument"><span class="annot"><span class="annottext">makeDocument :: PrintingInformation -&gt; Document -&gt; Document
</span><a href="Language.Drasil.Printing.Import.Document.html#makeDocument"><span class="hs-identifier hs-var hs-var">makeDocument</span></a></span></span><span> </span><span id="local-6989586621679102072"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102072"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Document</span></span><span> </span><span id="local-6989586621679102073"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102073"><span class="hs-identifier hs-var">titleLb</span></a></span></span><span> </span><span id="local-6989586621679102074"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102074"><span class="hs-identifier hs-var">authorName</span></a></span></span><span> </span><span class="annot"><span class="annottext">ShowTableOfContents
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102075"><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102075"><span class="hs-identifier hs-var">sections</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><span class="annottext">Title -&gt; Title -&gt; [LayoutObj] -&gt; Document
</span><a href="Language.Drasil.Printing.LayoutObj.html#Document"><span class="hs-identifier hs-var">T.Document</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102072"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102073"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102072"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102074"><span class="hs-identifier hs-var">authorName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; [Section] -&gt; [LayoutObj]
</span><a href="Language.Drasil.Printing.Import.Document.html#createLayout"><span class="hs-identifier hs-var">createLayout</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102072"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102075"><span class="hs-identifier hs-var">sections</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeDocument"><span class="hs-identifier hs-var">makeDocument</span></a></span><span> </span><span id="local-6989586621679102077"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102077"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Notebook</span></span><span> </span><span id="local-6989586621679102079"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102079"><span class="hs-identifier hs-var">titleLb</span></a></span></span><span> </span><span id="local-6989586621679102080"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102080"><span class="hs-identifier hs-var">authorName</span></a></span></span><span> </span><span id="local-6989586621679102081"><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102081"><span class="hs-identifier hs-var">sections</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><span class="annottext">Title -&gt; Title -&gt; [LayoutObj] -&gt; Document
</span><a href="Language.Drasil.Printing.LayoutObj.html#Document"><span class="hs-identifier hs-var">T.Document</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102077"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102079"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102077"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102080"><span class="hs-identifier hs-var">authorName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; [Section] -&gt; [LayoutObj]
</span><a href="Language.Drasil.Printing.Import.Document.html#createLayout%27"><span class="hs-identifier hs-var">createLayout'</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102077"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102081"><span class="hs-identifier hs-var">sections</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="annot"><span class="hs-comment">-- | Translates from 'Document' to a printable representation of 'T.Project'.</span></span><span>
</span><span id="line-30"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeProject"><span class="hs-identifier hs-type">makeProject</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Document</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Project"><span class="hs-identifier hs-type">T.Project</span></a></span><span>
</span><span id="line-31"></span><span id="makeProject"><span class="annot"><span class="annottext">makeProject :: PrintingInformation -&gt; Document -&gt; Project
</span><a href="Language.Drasil.Printing.Import.Document.html#makeProject"><span class="hs-identifier hs-var hs-var">makeProject</span></a></span></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Notebook</span></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Project
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Unsupported format: Notebook&quot;</span></span><span>
</span><span id="line-32"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeProject"><span class="hs-identifier hs-var">makeProject</span></a></span><span> </span><span id="local-6989586621679102086"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102086"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Document</span></span><span> </span><span id="local-6989586621679102087"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102087"><span class="hs-identifier hs-var">titleLb</span></a></span></span><span> </span><span id="local-6989586621679102088"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102088"><span class="hs-identifier hs-var">authorName</span></a></span></span><span> </span><span class="annot"><span class="annottext">ShowTableOfContents
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102089"><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102089"><span class="hs-identifier hs-var">sections</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><span class="annottext">Title -&gt; Title -&gt; RefMap -&gt; [File] -&gt; Project
</span><a href="Language.Drasil.Printing.LayoutObj.html#Project"><span class="hs-identifier hs-var">T.Project</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102086"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102087"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102086"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102088"><span class="hs-identifier hs-var">authorName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">RefMap
</span><a href="#local-6989586621679102090"><span class="hs-identifier hs-var">refMap</span></a></span><span> </span><span class="annot"><span class="annottext">[File]
</span><a href="#local-6989586621679102091"><span class="hs-identifier hs-var">files</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-35"></span><span>    </span><span id="local-6989586621679102091"><span class="annot"><span class="annottext">files :: [File]
</span><a href="#local-6989586621679102091"><span class="hs-identifier hs-var hs-var">files</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; [Section] -&gt; [File]
</span><a href="Language.Drasil.Printing.Import.Document.html#createFiles"><span class="hs-identifier hs-var">createFiles</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102086"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102089"><span class="hs-identifier hs-var">sections</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span id="local-6989586621679102090"><span class="annot"><span class="annottext">refMap :: RefMap
</span><a href="#local-6989586621679102090"><span class="hs-identifier hs-var hs-var">refMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[([Char], [Char])] -&gt; RefMap
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">([([Char], [Char])] -&gt; RefMap) -&gt; [([Char], [Char])] -&gt; RefMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(File -&gt; [([Char], [Char])]) -&gt; [File] -&gt; [([Char], [Char])]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">File -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRefMap%27"><span class="hs-identifier hs-var">createRefMap'</span></a></span><span> </span><span class="annot"><span class="annottext">[File]
</span><a href="#local-6989586621679102091"><span class="hs-identifier hs-var">files</span></a></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="annot"><span class="hs-comment">-- * Helpers</span></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="annot"><span class="hs-comment">-- | Helper function for creating sections as Files.</span></span><span>
</span><span id="line-41"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createFiles"><span class="hs-identifier hs-type">createFiles</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#File"><span class="hs-identifier hs-type">T.File</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-42"></span><span id="createFiles"><span class="annot"><span class="annottext">createFiles :: PrintingInformation -&gt; [Section] -&gt; [File]
</span><a href="Language.Drasil.Printing.Import.Document.html#createFiles"><span class="hs-identifier hs-var hs-var">createFiles</span></a></span></span><span> </span><span id="local-6989586621679102100"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102100"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102101"><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102101"><span class="hs-identifier hs-var">secs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Section) -&gt; File) -&gt; [(Int, Section)] -&gt; [File]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; (Int, Section) -&gt; File
</span><a href="Language.Drasil.Printing.Import.Document.html#file"><span class="hs-identifier hs-var">file</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102100"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Section)]
</span><a href="#local-6989586621679102103"><span class="hs-identifier hs-var">secs'</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621679102103"><span class="annot"><span class="annottext">secs' :: [(Int, Section)]
</span><a href="#local-6989586621679102103"><span class="hs-identifier hs-var hs-var">secs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Section -&gt; [(Int, Section)]) -&gt; [Section] -&gt; [(Int, Section)]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Section -&gt; [(Int, Section)]
</span><a href="Language.Drasil.Printing.Import.Document.html#extractSubS"><span class="hs-identifier hs-var">extractSubS</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679102101"><span class="hs-identifier hs-var">secs</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="annot"><span class="hs-comment">-- | Helper function for creating a RefMap for a Document.</span></span><span>
</span><span id="line-47"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap%27"><span class="hs-identifier hs-type">createRefMap'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#File"><span class="hs-identifier hs-type">T.File</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Filename"><span class="hs-identifier hs-type">T.Filename</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-48"></span><span id="createRefMap%27"><span class="annot"><span class="annottext">createRefMap' :: File -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRefMap%27"><span class="hs-identifier hs-var hs-var">createRefMap'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#File"><span class="hs-identifier hs-type">T.File</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102108"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102108"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102109"><span class="annot"><span class="annottext">[LayoutObj]
</span><a href="#local-6989586621679102109"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LayoutObj -&gt; [([Char], [Char])])
-&gt; [LayoutObj] -&gt; [([Char], [Char])]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; LayoutObj -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102108"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LayoutObj]
</span><a href="#local-6989586621679102109"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><span class="hs-comment">-- | Helper function for creating a RefMap for a LayoutObj</span></span><span>
</span><span id="line-51"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-type">createRefMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Filename"><span class="hs-identifier hs-type">T.Filename</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Filename"><span class="hs-identifier hs-type">T.Filename</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-52"></span><span id="createRefMap"><span class="annot"><span class="annottext">createRefMap :: [Char] -&gt; LayoutObj -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var hs-var">createRefMap</span></a></span></span><span> </span><span id="local-6989586621679102111"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102111"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Header"><span class="hs-identifier hs-type">T.Header</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Title
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102113"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102113"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102111"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102113"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-53"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span id="local-6989586621679102115"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102115"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#HDiv"><span class="hs-identifier hs-type">T.HDiv</span></a></span><span>   </span><span class="annot"><span class="annottext">Tags
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LayoutObj]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102117"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102117"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102115"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102117"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-54"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span id="local-6989586621679102118"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102118"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Table"><span class="hs-identifier hs-type">T.Table</span></a></span><span>  </span><span class="annot"><span class="annottext">Tags
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[[Title]]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102120"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102120"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Title
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102118"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102120"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-55"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span id="local-6989586621679102121"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102121"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Definition"><span class="hs-identifier hs-type">T.Definition</span></a></span><span> </span><span class="annot"><span class="annottext">DType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[([Char], [LayoutObj])]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679102123"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102123"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102121"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102123"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-56"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span id="local-6989586621679102124"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102124"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#List"><span class="hs-identifier hs-type">T.List</span></a></span><span> </span><span id="local-6989586621679102126"><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102126"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ListType -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102127"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102126"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621679102127"><span class="annot"><span class="annottext">pass :: ListType -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102127"><span class="hs-identifier hs-var hs-var">pass</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.AST.html#Ordered"><span class="hs-identifier hs-type">P.Ordered</span></a></span><span> </span><span id="local-6989586621679102129"><span class="annot"><span class="annottext">[(ItemType, Maybe Title)]
</span><a href="#local-6989586621679102129"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ItemType, Maybe Title)] -&gt; [([Char], [Char])]
forall {a}. [(a, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102130"><span class="hs-identifier hs-var">process</span></a></span><span>  </span><span class="annot"><span class="annottext">[(ItemType, Maybe Title)]
</span><a href="#local-6989586621679102129"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><a href="#local-6989586621679102127"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.AST.html#Unordered"><span class="hs-identifier hs-type">P.Unordered</span></a></span><span> </span><span id="local-6989586621679102132"><span class="annot"><span class="annottext">[(ItemType, Maybe Title)]
</span><a href="#local-6989586621679102132"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ItemType, Maybe Title)] -&gt; [([Char], [Char])]
forall {a}. [(a, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102130"><span class="hs-identifier hs-var">process</span></a></span><span>  </span><span class="annot"><span class="annottext">[(ItemType, Maybe Title)]
</span><a href="#local-6989586621679102132"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><a href="#local-6989586621679102127"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.AST.html#Simple"><span class="hs-identifier hs-type">P.Simple</span></a></span><span> </span><span id="local-6989586621679102134"><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)]
</span><a href="#local-6989586621679102134"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)] -&gt; [([Char], [Char])]
forall {a} {b}. [(a, b, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102135"><span class="hs-identifier hs-var">process'</span></a></span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)]
</span><a href="#local-6989586621679102134"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><a href="#local-6989586621679102127"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.AST.html#Desc"><span class="hs-identifier hs-type">P.Desc</span></a></span><span> </span><span id="local-6989586621679102137"><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)]
</span><a href="#local-6989586621679102137"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)] -&gt; [([Char], [Char])]
forall {a} {b}. [(a, b, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102135"><span class="hs-identifier hs-var">process'</span></a></span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)]
</span><a href="#local-6989586621679102137"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><a href="#local-6989586621679102127"><span class="hs-identifier hs-var">pass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.AST.html#Definitions"><span class="hs-identifier hs-type">P.Definitions</span></a></span><span> </span><span id="local-6989586621679102139"><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)]
</span><a href="#local-6989586621679102139"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)] -&gt; [([Char], [Char])]
forall {a} {b}. [(a, b, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102135"><span class="hs-identifier hs-var">process'</span></a></span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)]
</span><a href="#local-6989586621679102139"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span id="local-6989586621679102130"><span class="annot"><span class="annottext">process :: [(a, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102130"><span class="hs-identifier hs-var hs-var">process</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, Maybe Title) -&gt; [([Char], [Char])])
-&gt; [(a, Maybe Title)] -&gt; [([Char], [Char])]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679102141"><span class="annot"><span class="annottext">Maybe Title
</span><a href="#local-6989586621679102141"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[([Char], [Char])]
-&gt; (Title -&gt; [([Char], [Char])])
-&gt; Maybe Title
-&gt; [([Char], [Char])]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102124"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Title
</span><a href="#local-6989586621679102141"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>    </span><span id="local-6989586621679102135"><span class="annot"><span class="annottext">process' :: [(a, b, Maybe Title)] -&gt; [([Char], [Char])]
</span><a href="#local-6989586621679102135"><span class="hs-identifier hs-var hs-var">process'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, b, Maybe Title) -&gt; [([Char], [Char])])
-&gt; [(a, b, Maybe Title)] -&gt; [([Char], [Char])]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679102144"><span class="annot"><span class="annottext">Maybe Title
</span><a href="#local-6989586621679102144"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[([Char], [Char])]
-&gt; (Title -&gt; [([Char], [Char])])
-&gt; Maybe Title
-&gt; [([Char], [Char])]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102124"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Title
</span><a href="#local-6989586621679102144"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span id="local-6989586621679102145"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102145"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Figure"><span class="hs-identifier hs-type">T.Figure</span></a></span><span> </span><span id="local-6989586621679102147"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102147"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Title
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">MaxWidthPercent
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102145"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102147"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-66"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span id="local-6989586621679102148"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102148"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Bib"><span class="hs-identifier hs-type">T.Bib</span></a></span><span> </span><span id="local-6989586621679102150"><span class="annot"><span class="annottext">BibRef
</span><a href="#local-6989586621679102150"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Citation -&gt; ([Char], [Char])) -&gt; BibRef -&gt; [([Char], [Char])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Citation -&gt; ([Char], [Char])
</span><a href="#local-6989586621679102151"><span class="hs-identifier hs-var">bibRefs</span></a></span><span> </span><span class="annot"><span class="annottext">BibRef
</span><a href="#local-6989586621679102150"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-68"></span><span>    </span><span id="local-6989586621679102151"><span class="annot"><span class="annottext">bibRefs :: Citation -&gt; ([Char], [Char])
</span><a href="#local-6989586621679102151"><span class="hs-identifier hs-var hs-var">bibRefs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.Citation.html#Cite"><span class="hs-identifier hs-type">P.Cite</span></a></span><span> </span><span id="local-6989586621679102153"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102153"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">CitationKind
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CiteField]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102153"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102148"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRefMap"><span class="hs-identifier hs-var">createRefMap</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LayoutObj
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="annot"><span class="hs-comment">-- | Helper function for mapping a Label to a Filename</span></span><span>
</span><span id="line-72"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-type">createRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Filename"><span class="hs-identifier hs-type">T.Filename</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.AST.html#Label"><span class="hs-identifier hs-type">P.Label</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Filename"><span class="hs-identifier hs-type">T.Filename</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-73"></span><span id="createRef"><span class="annot"><span class="annottext">createRef :: [Char] -&gt; Title -&gt; [([Char], [Char])]
</span><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var hs-var">createRef</span></a></span></span><span> </span><span id="local-6989586621679102155"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102155"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-type">P.S</span></a></span><span> </span><span id="local-6989586621679102157"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102157"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102157"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102155"><span class="hs-identifier hs-var">fn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-74"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createRef"><span class="hs-identifier hs-var">createRef</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span>   </span><span class="annot"><span class="annottext">Title
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="annot"><span class="hs-comment">-- | Helper function for creating sections as layout objects.</span></span><span>
</span><span id="line-77"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createLayout"><span class="hs-identifier hs-type">createLayout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-78"></span><span id="createLayout"><span class="annot"><span class="annottext">createLayout :: PrintingInformation -&gt; [Section] -&gt; [LayoutObj]
</span><a href="Language.Drasil.Printing.Import.Document.html#createLayout"><span class="hs-identifier hs-var hs-var">createLayout</span></a></span></span><span> </span><span id="local-6989586621679102158"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102158"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Section -&gt; LayoutObj) -&gt; [Section] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Int -&gt; Section -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#sec"><span class="hs-identifier hs-var">sec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102158"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#createLayout%27"><span class="hs-identifier hs-type">createLayout'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-81"></span><span id="createLayout%27"><span class="annot"><span class="annottext">createLayout' :: PrintingInformation -&gt; [Section] -&gt; [LayoutObj]
</span><a href="Language.Drasil.Printing.Import.Document.html#createLayout%27"><span class="hs-identifier hs-var hs-var">createLayout'</span></a></span></span><span> </span><span id="local-6989586621679102160"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102160"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Section -&gt; LayoutObj) -&gt; [Section] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Int -&gt; Section -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#cel"><span class="hs-identifier hs-var">cel</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102160"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="annot"><span class="hs-comment">-- | Helper for extracting subsections into their own sections.</span></span><span>
</span><span id="line-84"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#extractSubS"><span class="hs-identifier hs-type">extractSubS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Depth"><span class="hs-identifier hs-type">T.Depth</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-85"></span><span id="extractSubS"><span class="annot"><span class="annottext">extractSubS :: Int -&gt; Section -&gt; [(Int, Section)]
</span><a href="Language.Drasil.Printing.Import.Document.html#extractSubS"><span class="hs-identifier hs-var hs-var">extractSubS</span></a></span></span><span> </span><span id="local-6989586621679102163"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102163"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679102164"><span class="annot"><span class="annottext">x :: Section
</span><a href="#local-6989586621679102164"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span id="local-6989586621679102166"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102166"><span class="hs-identifier hs-var">tl</span></a></span></span><span> </span><span id="local-6989586621679102167"><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102167"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679102168"><span class="annot"><span class="annottext">Reference
</span><a href="#local-6989586621679102168"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102163"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102163"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102164"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102163"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Title -&gt; [SecCons] -&gt; Reference -&gt; Section
</span><span class="hs-identifier hs-var">Section</span></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102166"><span class="hs-identifier hs-var">tl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SecCons -&gt; Bool) -&gt; [SecCons] -&gt; [SecCons]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">SecCons -&gt; Bool
</span><a href="#local-6989586621679102170"><span class="hs-identifier hs-var">isCon</span></a></span><span> </span><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102167"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Reference
</span><a href="#local-6989586621679102168"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int, Section) -&gt; [(Int, Section)] -&gt; [(Int, Section)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>
</span><span id="line-88"></span><span>      </span><span class="annot"><span class="annottext">(SecCons -&gt; [(Int, Section)]) -&gt; [SecCons] -&gt; [(Int, Section)]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SecCons -&gt; [(Int, Section)]
</span><a href="#local-6989586621679102171"><span class="hs-identifier hs-var">sepSub</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102163"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102167"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621679102170"><span class="annot"><span class="annottext">isCon :: SecCons -&gt; Bool
</span><a href="#local-6989586621679102170"><span class="hs-identifier hs-var hs-var">isCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Con</span></span><span> </span><span class="annot"><span class="annottext">Contents
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="#local-6989586621679102170"><span class="hs-identifier hs-var">isCon</span></a></span><span>  </span><span class="annot"><span class="annottext">SecCons
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-92"></span><span>    </span><span id="local-6989586621679102171"><span class="annot"><span class="annottext">sepSub :: Int -&gt; SecCons -&gt; [(Int, Section)]
</span><a href="#local-6989586621679102171"><span class="hs-identifier hs-var hs-var">sepSub</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Con</span></span><span> </span><span class="annot"><span class="annottext">Contents
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><a href="#local-6989586621679102171"><span class="hs-identifier hs-var">sepSub</span></a></span><span> </span><span id="local-6989586621679102174"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102174"><span class="hs-identifier hs-var">dep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sub</span></span><span> </span><span id="local-6989586621679102176"><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102176"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Section -&gt; [(Int, Section)]
</span><a href="Language.Drasil.Printing.Import.Document.html#extractSubS"><span class="hs-identifier hs-var">extractSubS</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102174"><span class="hs-identifier hs-var">dep</span></a></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102176"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><span class="hs-comment">-- | Helper for converting a Section to a File</span></span><span>
</span><span id="line-96"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#file"><span class="hs-identifier hs-type">file</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#Depth"><span class="hs-identifier hs-type">T.Depth</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#File"><span class="hs-identifier hs-type">T.File</span></a></span><span>
</span><span id="line-97"></span><span id="file"><span class="annot"><span class="annottext">file :: PrintingInformation -&gt; (Int, Section) -&gt; File
</span><a href="Language.Drasil.Printing.Import.Document.html#file"><span class="hs-identifier hs-var hs-var">file</span></a></span></span><span> </span><span id="local-6989586621679102177"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102177"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679102178"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102178"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679102179"><span class="annot"><span class="annottext">x :: Section
</span><a href="#local-6989586621679102179"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span id="local-6989586621679102180"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102180"><span class="hs-identifier hs-var">titleLb</span></a></span></span><span> </span><span id="local-6989586621679102181"><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102181"><span class="hs-identifier hs-var">contents</span></a></span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="annottext">Title -&gt; [Char] -&gt; Int -&gt; [LayoutObj] -&gt; File
</span><a href="Language.Drasil.Printing.LayoutObj.html#File"><span class="hs-identifier hs-var">T.File</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102177"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102180"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102182"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102178"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">[LayoutObj]
</span><a href="#local-6989586621679102183"><span class="hs-identifier hs-var">los</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>    </span><span id="local-6989586621679102186"><span class="annot"><span class="annottext">refr :: [Char]
</span><a href="#local-6989586621679102186"><span class="hs-identifier hs-var hs-var">refr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Section -&gt; [Char]
forall s. Referable s =&gt; s -&gt; [Char]
</span><span class="hs-identifier hs-var">refAdd</span></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102179"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621679102182"><span class="annot"><span class="annottext">fn :: [Char]
</span><a href="#local-6989586621679102182"><span class="hs-identifier hs-var hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; [Char] -&gt; [Char]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102186"><span class="hs-identifier hs-var">refr</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span id="local-6989586621679102183"><span class="annot"><span class="annottext">los :: [LayoutObj]
</span><a href="#local-6989586621679102183"><span class="hs-identifier hs-var hs-var">los</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Title -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Header"><span class="hs-identifier hs-var">T.Header</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102178"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102177"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102180"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102186"><span class="hs-identifier hs-var">refr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LayoutObj -&gt; [LayoutObj] -&gt; [LayoutObj]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>
</span><span id="line-103"></span><span>      </span><span class="annot"><span class="annottext">(SecCons -&gt; LayoutObj) -&gt; [SecCons] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Int -&gt; SecCons -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layout"><span class="hs-identifier hs-var">layout</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102177"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102178"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102181"><span class="hs-identifier hs-var">contents</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="annot"><span class="hs-comment">-- | Helper function for creating sections at the appropriate depth.</span></span><span>
</span><span id="line-106"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#sec"><span class="hs-identifier hs-type">sec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span>
</span><span id="line-107"></span><span id="sec"><span class="annot"><span class="annottext">sec :: PrintingInformation -&gt; Int -&gt; Section -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#sec"><span class="hs-identifier hs-var hs-var">sec</span></a></span></span><span> </span><span id="local-6989586621679102192"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102192"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102193"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102193"><span class="hs-identifier hs-var">depth</span></a></span></span><span> </span><span id="local-6989586621679102194"><span class="annot"><span class="annottext">x :: Section
</span><a href="#local-6989586621679102194"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span id="local-6989586621679102195"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102195"><span class="hs-identifier hs-var">titleLb</span></a></span></span><span> </span><span id="local-6989586621679102196"><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102196"><span class="hs-identifier hs-var">contents</span></a></span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">--FIXME: should ShortName be used somewhere?</span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679102198"><span class="annot"><span class="annottext">refr :: Title
</span><a href="#local-6989586621679102198"><span class="hs-identifier hs-var hs-var">refr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Section -&gt; [Char]
forall s. Referable s =&gt; s -&gt; [Char]
</span><span class="hs-identifier hs-var">refAdd</span></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102194"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><span class="annottext">Tags -&gt; [LayoutObj] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#HDiv"><span class="hs-identifier hs-var">T.HDiv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Tags -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Char] -&gt; Tags
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102193"><span class="hs-identifier hs-var">depth</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;sub&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;section&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Title -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Header"><span class="hs-identifier hs-var">T.Header</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102193"><span class="hs-identifier hs-var">depth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102192"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102195"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102198"><span class="hs-identifier hs-var">refr</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutObj -&gt; [LayoutObj] -&gt; [LayoutObj]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>
</span><span id="line-111"></span><span>   </span><span class="annot"><span class="annottext">(SecCons -&gt; LayoutObj) -&gt; [SecCons] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Int -&gt; SecCons -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layout"><span class="hs-identifier hs-var">layout</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102192"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102193"><span class="hs-identifier hs-var">depth</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102196"><span class="hs-identifier hs-var">contents</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102198"><span class="hs-identifier hs-var">refr</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#cel"><span class="hs-identifier hs-type">cel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span>
</span><span id="line-114"></span><span id="cel"><span class="annot"><span class="annottext">cel :: PrintingInformation -&gt; Int -&gt; Section -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#cel"><span class="hs-identifier hs-var hs-var">cel</span></a></span></span><span> </span><span id="local-6989586621679102201"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102201"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102202"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102202"><span class="hs-identifier hs-var">depth</span></a></span></span><span> </span><span id="local-6989586621679102203"><span class="annot"><span class="annottext">x :: Section
</span><a href="#local-6989586621679102203"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Section</span></span><span> </span><span id="local-6989586621679102204"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102204"><span class="hs-identifier hs-var">titleLb</span></a></span></span><span> </span><span id="local-6989586621679102205"><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102205"><span class="hs-identifier hs-var">contents</span></a></span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679102207"><span class="annot"><span class="annottext">refr :: Title
</span><a href="#local-6989586621679102207"><span class="hs-identifier hs-var hs-var">refr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Section -&gt; [Char]
forall s. Referable s =&gt; s -&gt; [Char]
</span><span class="hs-identifier hs-var">refAdd</span></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102203"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><span class="annottext">[LayoutObj] -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Cell"><span class="hs-identifier hs-var">T.Cell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Title -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Header"><span class="hs-identifier hs-var">T.Header</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102202"><span class="hs-identifier hs-var">depth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102201"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102204"><span class="hs-identifier hs-var">titleLb</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102207"><span class="hs-identifier hs-var">refr</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutObj -&gt; [LayoutObj] -&gt; [LayoutObj]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>
</span><span id="line-117"></span><span>   </span><span class="annot"><span class="annottext">(SecCons -&gt; LayoutObj) -&gt; [SecCons] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Int -&gt; SecCons -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layout"><span class="hs-identifier hs-var">layout</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102201"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102202"><span class="hs-identifier hs-var">depth</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679102205"><span class="hs-identifier hs-var">contents</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><span class="hs-comment">-- | Helper for translating sections into a printable representation of layout objects ('T.LayoutObj').</span></span><span>
</span><span id="line-120"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layout"><span class="hs-identifier hs-type">layout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SecCons</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span>
</span><span id="line-121"></span><span id="layout"><span class="annot"><span class="annottext">layout :: PrintingInformation -&gt; Int -&gt; SecCons -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layout"><span class="hs-identifier hs-var hs-var">layout</span></a></span></span><span> </span><span id="local-6989586621679102209"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102209"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102210"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102210"><span class="hs-identifier hs-var">currDepth</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Sub</span></span><span> </span><span id="local-6989586621679102211"><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102211"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; Int -&gt; Section -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#sec"><span class="hs-identifier hs-var">sec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102209"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102210"><span class="hs-identifier hs-var">currDepth</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679102211"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-122"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layout"><span class="hs-identifier hs-var">layout</span></a></span><span> </span><span id="local-6989586621679102212"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102212"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Con</span></span><span> </span><span id="local-6989586621679102213"><span class="annot"><span class="annottext">Contents
</span><a href="#local-6989586621679102213"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; Contents -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#lay"><span class="hs-identifier hs-var">lay</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102212"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Contents
</span><a href="#local-6989586621679102213"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- | Helper that translates 'Contents' to a printable representation of 'T.LayoutObj'.</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- Called internally by 'layout'.</span><span>
</span><span id="line-126"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#lay"><span class="hs-identifier hs-type">lay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contents</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span>
</span><span id="line-127"></span><span id="lay"><span class="annot"><span class="annottext">lay :: PrintingInformation -&gt; Contents -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#lay"><span class="hs-identifier hs-var hs-var">lay</span></a></span></span><span> </span><span id="local-6989586621679102215"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102215"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LlC</span></span><span> </span><span id="local-6989586621679102217"><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102217"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; LabelledContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102215"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102217"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-128"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#lay"><span class="hs-identifier hs-var">lay</span></a></span><span> </span><span id="local-6989586621679102219"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102219"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UlC</span></span><span> </span><span id="local-6989586621679102221"><span class="annot"><span class="annottext">UnlabelledContent
</span><a href="#local-6989586621679102221"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; RawContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102219"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnlabelledContent
</span><a href="#local-6989586621679102221"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">UnlabelledContent
-&gt; Getting RawContent UnlabelledContent RawContent -&gt; RawContent
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting RawContent UnlabelledContent RawContent
forall c. HasContents c =&gt; Lens' c RawContent
Lens' UnlabelledContent RawContent
</span><span class="hs-identifier hs-var">accessContents</span></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-- | Helper that translates 'LabelledContent's to a printable representation of 'T.LayoutObj'.</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- Called internally by 'lay'.</span><span>
</span><span id="line-132"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-type">layLabelled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LabelledContent</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span>
</span><span id="line-133"></span><span id="layLabelled"><span class="annot"><span class="annottext">layLabelled :: PrintingInformation -&gt; LabelledContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var hs-var">layLabelled</span></a></span></span><span> </span><span id="local-6989586621679102224"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102224"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102225"><span class="annot"><span class="annottext">x :: LabelledContent
</span><a href="#local-6989586621679102225"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span id="local-6989586621679102228"><span class="annot"><span class="annottext">[Title]
</span><a href="#local-6989586621679102228"><span class="hs-identifier hs-var">hdr</span></a></span></span><span> </span><span id="local-6989586621679102229"><span class="annot"><span class="annottext">[[Title]]
</span><a href="#local-6989586621679102229"><span class="hs-identifier hs-var">lls</span></a></span></span><span> </span><span id="local-6989586621679102230"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102230"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679102231"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679102231"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tags -&gt; [[Title]] -&gt; Title -&gt; Bool -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Table"><span class="hs-identifier hs-var">T.Table</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;table&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Title -&gt; Title) -&gt; [Title] -&gt; [Title]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102224"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Title]
</span><a href="#local-6989586621679102228"><span class="hs-identifier hs-var">hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Title] -&gt; [[Title]] -&gt; [[Title]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">([Title] -&gt; [Title]) -&gt; [[Title]] -&gt; [[Title]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Title -&gt; Title) -&gt; [Title] -&gt; [Title]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102224"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[Title]]
</span><a href="#local-6989586621679102229"><span class="hs-identifier hs-var">lls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; [Char] -&gt; Title
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LblType -&gt; [Char]
</span><span class="hs-identifier hs-var">getAdd</span></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; [Char]) -&gt; LblType -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><span class="hs-identifier hs-var">getRefAdd</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102225"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679102231"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102224"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102230"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102234"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102234"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102235"><span class="annot"><span class="annottext">x :: LabelledContent
</span><a href="#local-6989586621679102235"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">EqnBlock</span></span><span> </span><span id="local-6989586621679102237"><span class="annot"><span class="annottext">ModelExpr
</span><a href="#local-6989586621679102237"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tags -&gt; [LayoutObj] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#HDiv"><span class="hs-identifier hs-var">T.HDiv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;equation&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#EqnBlock"><span class="hs-identifier hs-var">T.EqnBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#E"><span class="hs-identifier hs-var">P.E</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModelExpr -&gt; PrintingInformation -&gt; Expr
</span><a href="Language.Drasil.Printing.Import.ModelExpr.html#modelExpr"><span class="hs-identifier hs-var">modelExpr</span></a></span><span> </span><span class="annot"><span class="annottext">ModelExpr
</span><a href="#local-6989586621679102237"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102234"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; [Char] -&gt; Title
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LblType -&gt; [Char]
</span><span class="hs-identifier hs-var">getAdd</span></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; [Char]) -&gt; LblType -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><span class="hs-identifier hs-var">getRefAdd</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102235"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102240"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102240"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102241"><span class="annot"><span class="annottext">x :: LabelledContent
</span><a href="#local-6989586621679102241"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Figure</span></span><span> </span><span id="local-6989586621679102243"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102243"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679102244"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102244"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679102245"><span class="annot"><span class="annottext">MaxWidthPercent
</span><a href="#local-6989586621679102245"><span class="hs-identifier hs-var">wp</span></a></span></span><span> </span><span id="local-6989586621679102246"><span class="annot"><span class="annottext">HasCaption
</span><a href="#local-6989586621679102246"><span class="hs-identifier hs-var">hc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; Maybe Title -&gt; [Char] -&gt; MaxWidthPercent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Figure"><span class="hs-identifier hs-var">T.Figure</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; [Char] -&gt; Title
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LblType -&gt; [Char]
</span><span class="hs-identifier hs-var">getAdd</span></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; [Char]) -&gt; LblType -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><span class="hs-identifier hs-var">getRefAdd</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102241"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">HasCaption
</span><a href="#local-6989586621679102246"><span class="hs-identifier hs-var">hc</span></a></span><span> </span><span class="annot"><span class="annottext">HasCaption -&gt; HasCaption -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">HasCaption
</span><span class="hs-identifier hs-var">WithCaption</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Title -&gt; Maybe Title
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102240"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102243"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe Title
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102244"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MaxWidthPercent
</span><a href="#local-6989586621679102245"><span class="hs-identifier hs-var">wp</span></a></span><span>
</span><span id="line-144"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102248"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102248"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102249"><span class="annot"><span class="annottext">x :: LabelledContent
</span><a href="#local-6989586621679102249"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Graph</span></span><span> </span><span id="local-6989586621679102251"><span class="annot"><span class="annottext">[(Title, Title)]
</span><a href="#local-6989586621679102251"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679102252"><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102252"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679102253"><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102253"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679102254"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102254"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, Title)]
-&gt; Maybe MaxWidthPercent
-&gt; Maybe MaxWidthPercent
-&gt; Title
-&gt; Title
-&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Graph"><span class="hs-identifier hs-var">T.Graph</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Title, Title) -&gt; (Title, Title))
-&gt; [(Title, Title)] -&gt; [(Title, Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Title -&gt; Title)
-&gt; (Title -&gt; Title) -&gt; (Title, Title) -&gt; (Title, Title)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102248"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102248"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Title, Title)]
</span><a href="#local-6989586621679102251"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102252"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102253"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102248"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102254"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; [Char] -&gt; Title
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LblType -&gt; [Char]
</span><span class="hs-identifier hs-var">getAdd</span></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; [Char]) -&gt; LblType -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><span class="hs-identifier hs-var">getRefAdd</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102249"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102256"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102256"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102257"><span class="annot"><span class="annottext">x :: LabelledContent
</span><a href="#local-6989586621679102257"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Defini</span></span><span> </span><span id="local-6989586621679102259"><span class="annot"><span class="annottext">DType
</span><a href="#local-6989586621679102259"><span class="hs-identifier hs-var">dtyp</span></a></span></span><span> </span><span id="local-6989586621679102260"><span class="annot"><span class="annottext">[([Char], [Contents])]
</span><a href="#local-6989586621679102260"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DType -&gt; [([Char], [LayoutObj])] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Definition"><span class="hs-identifier hs-var">T.Definition</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="annottext">DType
</span><a href="#local-6989586621679102259"><span class="hs-identifier hs-var">dtyp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[([Char], [Contents])] -&gt; [([Char], [LayoutObj])]
forall {a}. [(a, [Contents])] -&gt; [(a, [LayoutObj])]
</span><a href="#local-6989586621679102261"><span class="hs-identifier hs-var">layPairs</span></a></span><span> </span><span class="annot"><span class="annottext">[([Char], [Contents])]
</span><a href="#local-6989586621679102260"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; [Char] -&gt; Title
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LblType -&gt; [Char]
</span><span class="hs-identifier hs-var">getAdd</span></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; [Char]) -&gt; LblType -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><span class="hs-identifier hs-var">getRefAdd</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102257"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679102261"><span class="annot"><span class="annottext">layPairs :: [(a, [Contents])] -&gt; [(a, [LayoutObj])]
</span><a href="#local-6989586621679102261"><span class="hs-identifier hs-var hs-var">layPairs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, [Contents]) -&gt; (a, [LayoutObj]))
-&gt; [(a, [Contents])] -&gt; [(a, [LayoutObj])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Contents] -&gt; [LayoutObj]) -&gt; (a, [Contents]) -&gt; (a, [LayoutObj])
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Contents -&gt; LayoutObj) -&gt; [Contents] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Contents -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#lay"><span class="hs-identifier hs-var">lay</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102256"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102264"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102264"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Paragraph</span></span><span> </span><span id="local-6989586621679102266"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102266"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Paragraph"><span class="hs-identifier hs-var">T.Paragraph</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102264"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102266"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102268"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102268"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span id="local-6989586621679102269"><span class="annot"><span class="annottext">x :: LabelledContent
</span><a href="#local-6989586621679102269"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DerivBlock</span></span><span> </span><span id="local-6989586621679102271"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102271"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679102272"><span class="annot"><span class="annottext">[RawContent]
</span><a href="#local-6989586621679102272"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tags -&gt; [LayoutObj] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#HDiv"><span class="hs-identifier hs-var">T.HDiv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;subsubsubsection&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Title -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Header"><span class="hs-identifier hs-var">T.Header</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102268"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102271"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102273"><span class="hs-identifier hs-var">refr</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutObj -&gt; [LayoutObj] -&gt; [LayoutObj]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(RawContent -&gt; LayoutObj) -&gt; [RawContent] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; RawContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102268"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawContent]
</span><a href="#local-6989586621679102272"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102273"><span class="hs-identifier hs-var">refr</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679102273"><span class="annot"><span class="annottext">refr :: Title
</span><a href="#local-6989586621679102273"><span class="hs-identifier hs-var hs-var">refr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; [Char] -&gt; Title
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; [Char]
forall s. Referable s =&gt; s -&gt; [Char]
</span><span class="hs-identifier hs-var">refAdd</span></span><span> </span><span class="annot"><span class="annottext">LabelledContent
</span><a href="#local-6989586621679102269"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Deriv&quot;</span></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102276"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102276"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enumeration</span></span><span> </span><span id="local-6989586621679102278"><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102278"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ListType -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#List"><span class="hs-identifier hs-var">T.List</span></a></span><span> </span><span class="annot"><span class="annottext">(ListType -&gt; LayoutObj) -&gt; ListType -&gt; LayoutObj
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; ListType -&gt; ListType
</span><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102276"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102278"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span>  </span><span class="annot"><span class="annottext">PrintingInformation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bib</span></span><span> </span><span id="local-6989586621679102281"><span class="annot"><span class="annottext">BibRef
</span><a href="#local-6989586621679102281"><span class="hs-identifier hs-var">bib</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BibRef -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Bib"><span class="hs-identifier hs-var">T.Bib</span></a></span><span> </span><span class="annot"><span class="annottext">(BibRef -&gt; LayoutObj) -&gt; BibRef -&gt; LayoutObj
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Citation -&gt; Citation) -&gt; BibRef -&gt; BibRef
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Citation -&gt; Citation
</span><a href="Language.Drasil.Printing.Import.Document.html#layCite"><span class="hs-identifier hs-var">layCite</span></a></span><span> </span><span class="annot"><span class="annottext">BibRef
</span><a href="#local-6989586621679102281"><span class="hs-identifier hs-var">bib</span></a></span><span>
</span><span id="line-157"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layLabelled"><span class="hs-identifier hs-var">layLabelled</span></a></span><span> </span><span id="local-6989586621679102283"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102283"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LblC</span></span><span> </span><span class="annot"><span class="annottext">UID
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Reference
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CodeBlock</span></span><span> </span><span id="local-6989586621679102285"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679102285"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#CodeBlock"><span class="hs-identifier hs-var">T.CodeBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#E"><span class="hs-identifier hs-var">P.E</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodeExpr -&gt; PrintingInformation -&gt; Expr
</span><a href="Language.Drasil.Printing.Import.CodeExpr.html#codeExpr"><span class="hs-identifier hs-var">codeExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; CodeExpr
</span><span class="hs-identifier hs-var">expr</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679102285"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102283"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | Helper that translates 'RawContent's to a printable representation of 'T.LayoutObj'.</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- Called internally by 'lay'.</span><span>
</span><span id="line-161"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-type">layUnlabelled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">RawContent</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.LayoutObj.html#LayoutObj"><span class="hs-identifier hs-type">T.LayoutObj</span></a></span><span>
</span><span id="line-162"></span><span id="layUnlabelled"><span class="annot"><span class="annottext">layUnlabelled :: PrintingInformation -&gt; RawContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var hs-var">layUnlabelled</span></a></span></span><span> </span><span id="local-6989586621679102287"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102287"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Table</span></span><span> </span><span id="local-6989586621679102288"><span class="annot"><span class="annottext">[Title]
</span><a href="#local-6989586621679102288"><span class="hs-identifier hs-var">hdr</span></a></span></span><span> </span><span id="local-6989586621679102289"><span class="annot"><span class="annottext">[[Title]]
</span><a href="#local-6989586621679102289"><span class="hs-identifier hs-var">lls</span></a></span></span><span> </span><span id="local-6989586621679102290"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102290"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679102291"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679102291"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tags -&gt; [[Title]] -&gt; Title -&gt; Bool -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Table"><span class="hs-identifier hs-var">T.Table</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;table&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Title -&gt; Title) -&gt; [Title] -&gt; [Title]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102287"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Title]
</span><a href="#local-6989586621679102288"><span class="hs-identifier hs-var">hdr</span></a></span><span> </span><span class="annot"><span class="annottext">[Title] -&gt; [[Title]] -&gt; [[Title]]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">([Title] -&gt; [Title]) -&gt; [[Title]] -&gt; [[Title]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Title -&gt; Title) -&gt; [Title] -&gt; [Title]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102287"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[Title]]
</span><a href="#local-6989586621679102289"><span class="hs-identifier hs-var">lls</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nolabel0&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679102291"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102287"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102290"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102292"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102292"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Paragraph</span></span><span> </span><span id="local-6989586621679102293"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102293"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Paragraph"><span class="hs-identifier hs-var">T.Paragraph</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102292"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102293"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102294"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102294"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">EqnBlock</span></span><span> </span><span id="local-6989586621679102295"><span class="annot"><span class="annottext">ModelExpr
</span><a href="#local-6989586621679102295"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tags -&gt; [LayoutObj] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#HDiv"><span class="hs-identifier hs-var">T.HDiv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;equation&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#EqnBlock"><span class="hs-identifier hs-var">T.EqnBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#E"><span class="hs-identifier hs-var">P.E</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModelExpr -&gt; PrintingInformation -&gt; Expr
</span><a href="Language.Drasil.Printing.Import.ModelExpr.html#modelExpr"><span class="hs-identifier hs-var">modelExpr</span></a></span><span> </span><span class="annot"><span class="annottext">ModelExpr
</span><a href="#local-6989586621679102295"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102294"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="Language.Drasil.Printing.AST.html#EmptyS"><span class="hs-identifier hs-var">P.EmptyS</span></a></span><span>
</span><span id="line-166"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102297"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102297"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DerivBlock</span></span><span> </span><span id="local-6989586621679102298"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102298"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679102299"><span class="annot"><span class="annottext">[RawContent]
</span><a href="#local-6989586621679102299"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tags -&gt; [LayoutObj] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#HDiv"><span class="hs-identifier hs-var">T.HDiv</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;subsubsubsection&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Title -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Header"><span class="hs-identifier hs-var">T.Header</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102297"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102298"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102300"><span class="hs-identifier hs-var">refr</span></a></span><span> </span><span class="annot"><span class="annottext">LayoutObj -&gt; [LayoutObj] -&gt; [LayoutObj]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(RawContent -&gt; LayoutObj) -&gt; [RawContent] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; RawContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102297"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RawContent]
</span><a href="#local-6989586621679102299"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102300"><span class="hs-identifier hs-var">refr</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679102300"><span class="annot"><span class="annottext">refr :: Title
</span><a href="#local-6989586621679102300"><span class="hs-identifier hs-var hs-var">refr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nolabel1&quot;</span></span><span>
</span><span id="line-169"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102301"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102301"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Enumeration</span></span><span> </span><span id="local-6989586621679102302"><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102302"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ListType -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#List"><span class="hs-identifier hs-var">T.List</span></a></span><span> </span><span class="annot"><span class="annottext">(ListType -&gt; LayoutObj) -&gt; ListType -&gt; LayoutObj
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; ListType -&gt; ListType
</span><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102301"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102302"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-170"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102303"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102303"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Figure</span></span><span> </span><span id="local-6989586621679102304"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102304"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679102305"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102305"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679102306"><span class="annot"><span class="annottext">MaxWidthPercent
</span><a href="#local-6989586621679102306"><span class="hs-identifier hs-var">wp</span></a></span></span><span> </span><span id="local-6989586621679102307"><span class="annot"><span class="annottext">HasCaption
</span><a href="#local-6989586621679102307"><span class="hs-identifier hs-var">hc</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; Maybe Title -&gt; [Char] -&gt; MaxWidthPercent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Figure"><span class="hs-identifier hs-var">T.Figure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nolabel2&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">HasCaption
</span><a href="#local-6989586621679102307"><span class="hs-identifier hs-var">hc</span></a></span><span> </span><span class="annot"><span class="annottext">HasCaption -&gt; HasCaption -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">HasCaption
</span><span class="hs-identifier hs-var">WithCaption</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Title -&gt; Maybe Title
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102303"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102304"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe Title
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102305"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">MaxWidthPercent
</span><a href="#local-6989586621679102306"><span class="hs-identifier hs-var">wp</span></a></span><span>
</span><span id="line-172"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102308"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102308"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Graph</span></span><span> </span><span id="local-6989586621679102309"><span class="annot"><span class="annottext">[(Title, Title)]
</span><a href="#local-6989586621679102309"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679102310"><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102310"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679102311"><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102311"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679102312"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102312"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, Title)]
-&gt; Maybe MaxWidthPercent
-&gt; Maybe MaxWidthPercent
-&gt; Title
-&gt; Title
-&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Graph"><span class="hs-identifier hs-var">T.Graph</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Title, Title) -&gt; (Title, Title))
-&gt; [(Title, Title)] -&gt; [(Title, Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Title -&gt; Title)
-&gt; (Title -&gt; Title) -&gt; (Title, Title) -&gt; (Title, Title)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102308"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102308"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Title, Title)]
</span><a href="#local-6989586621679102309"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>                               </span><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102310"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MaxWidthPercent
</span><a href="#local-6989586621679102311"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102308"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102312"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nolabel6&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102313"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102313"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Defini</span></span><span> </span><span id="local-6989586621679102314"><span class="annot"><span class="annottext">DType
</span><a href="#local-6989586621679102314"><span class="hs-identifier hs-var">dtyp</span></a></span></span><span> </span><span id="local-6989586621679102315"><span class="annot"><span class="annottext">[([Char], [Contents])]
</span><a href="#local-6989586621679102315"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DType -&gt; [([Char], [LayoutObj])] -&gt; Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Definition"><span class="hs-identifier hs-var">T.Definition</span></a></span><span> </span><span class="annot"><span class="annottext">DType
</span><a href="#local-6989586621679102314"><span class="hs-identifier hs-var">dtyp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[([Char], [Contents])] -&gt; [([Char], [LayoutObj])]
forall {a}. [(a, [Contents])] -&gt; [(a, [LayoutObj])]
</span><a href="#local-6989586621679102316"><span class="hs-identifier hs-var">layPairs</span></a></span><span> </span><span class="annot"><span class="annottext">[([Char], [Contents])]
</span><a href="#local-6989586621679102315"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nolabel7&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679102316"><span class="annot"><span class="annottext">layPairs :: [(a, [Contents])] -&gt; [(a, [LayoutObj])]
</span><a href="#local-6989586621679102316"><span class="hs-identifier hs-var hs-var">layPairs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, [Contents]) -&gt; (a, [LayoutObj]))
-&gt; [(a, [Contents])] -&gt; [(a, [LayoutObj])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Contents] -&gt; [LayoutObj]) -&gt; (a, [Contents]) -&gt; (a, [LayoutObj])
forall b c a. (b -&gt; c) -&gt; (a, b) -&gt; (a, c)
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Contents -&gt; LayoutObj) -&gt; [Contents] -&gt; [LayoutObj]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Contents -&gt; LayoutObj
forall {s}. HasContents s =&gt; s -&gt; LayoutObj
</span><a href="#local-6989586621679102321"><span class="hs-identifier hs-var">temp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>        </span><span id="local-6989586621679102321"><span class="annot"><span class="annottext">temp :: s -&gt; LayoutObj
</span><a href="#local-6989586621679102321"><span class="hs-identifier hs-var hs-var">temp</span></a></span></span><span>  </span><span id="local-6989586621679102325"><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679102325"><span class="hs-identifier hs-var">y</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; RawContent -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102313"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679102325"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">s -&gt; Getting RawContent s RawContent -&gt; RawContent
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting RawContent s RawContent
forall c. HasContents c =&gt; Lens' c RawContent
Lens' s RawContent
</span><span class="hs-identifier hs-var">accessContents</span></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span>  </span><span class="annot"><span class="annottext">PrintingInformation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bib</span></span><span> </span><span id="local-6989586621679102326"><span class="annot"><span class="annottext">BibRef
</span><a href="#local-6989586621679102326"><span class="hs-identifier hs-var">bib</span></a></span></span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BibRef -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#Bib"><span class="hs-identifier hs-var">T.Bib</span></a></span><span> </span><span class="annot"><span class="annottext">(BibRef -&gt; LayoutObj) -&gt; BibRef -&gt; LayoutObj
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Citation -&gt; Citation) -&gt; BibRef -&gt; BibRef
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Citation -&gt; Citation
</span><a href="Language.Drasil.Printing.Import.Document.html#layCite"><span class="hs-identifier hs-var">layCite</span></a></span><span> </span><span class="annot"><span class="annottext">BibRef
</span><a href="#local-6989586621679102326"><span class="hs-identifier hs-var">bib</span></a></span><span>
</span><span id="line-178"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layUnlabelled"><span class="hs-identifier hs-var">layUnlabelled</span></a></span><span> </span><span id="local-6989586621679102327"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102327"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CodeBlock</span></span><span> </span><span id="local-6989586621679102328"><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679102328"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; LayoutObj
</span><a href="Language.Drasil.Printing.LayoutObj.html#CodeBlock"><span class="hs-identifier hs-var">T.CodeBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#E"><span class="hs-identifier hs-var">P.E</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CodeExpr -&gt; PrintingInformation -&gt; Expr
</span><a href="Language.Drasil.Printing.Import.CodeExpr.html#codeExpr"><span class="hs-identifier hs-var">codeExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Expr -&gt; CodeExpr
</span><span class="hs-identifier hs-var">expr</span></span><span> </span><span class="annot"><span class="annottext">Expr
</span><a href="#local-6989586621679102328"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102327"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="annot"><span class="hs-comment">-- | For importing a bibliography.</span></span><span>
</span><span id="line-181"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layCite"><span class="hs-identifier hs-type">layCite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Citation</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.Citation.html#Citation"><span class="hs-identifier hs-type">P.Citation</span></a></span><span>
</span><span id="line-182"></span><span id="layCite"><span class="annot"><span class="annottext">layCite :: Citation -&gt; Citation
</span><a href="Language.Drasil.Printing.Import.Document.html#layCite"><span class="hs-identifier hs-var hs-var">layCite</span></a></span></span><span> </span><span id="local-6989586621679102329"><span class="annot"><span class="annottext">Citation
</span><a href="#local-6989586621679102329"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; CitationKind -&gt; [CiteField] -&gt; Citation
</span><a href="Language.Drasil.Printing.Citation.html#Cite"><span class="hs-identifier hs-var">P.Cite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Citation -&gt; [Char]
forall a. HasUID a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">showUID</span></span><span> </span><span class="annot"><span class="annottext">Citation
</span><a href="#local-6989586621679102329"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Citation
</span><a href="#local-6989586621679102329"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Citation
-&gt; Getting CitationKind Citation CitationKind -&gt; CitationKind
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting CitationKind Citation CitationKind
Lens' Citation CitationKind
</span><span class="hs-identifier hs-var">citeKind</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CiteField -&gt; CiteField) -&gt; [CiteField] -&gt; [CiteField]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">CiteField -&gt; CiteField
</span><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Citation
</span><a href="#local-6989586621679102329"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Citation -&gt; Getting [CiteField] Citation [CiteField] -&gt; [CiteField]
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting [CiteField] Citation [CiteField]
forall c. HasFields c =&gt; Lens' c [CiteField]
Lens' Citation [CiteField]
</span><span class="hs-identifier hs-var">getFields</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="annot"><span class="hs-comment">-- | Helper for translating 'Citefield's into a printable representation of 'P.CiteField's</span></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-type">layField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">CiteField</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.Citation.html#CiteField"><span class="hs-identifier hs-type">P.CiteField</span></a></span><span>
</span><span id="line-186"></span><span id="layField"><span class="annot"><span class="annottext">layField :: CiteField -&gt; CiteField
</span><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var hs-var">layField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Address</span></span><span>      </span><span id="local-6989586621679102334"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102334"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Address"><span class="hs-identifier hs-var">P.Address</span></a></span><span>      </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102334"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-187"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Author</span></span><span>       </span><span id="local-6989586621679102337"><span class="annot"><span class="annottext">People
</span><a href="#local-6989586621679102337"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">People -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Author"><span class="hs-identifier hs-var">P.Author</span></a></span><span>       </span><span class="annot"><span class="annottext">People
</span><a href="#local-6989586621679102337"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-188"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">BookTitle</span></span><span>    </span><span id="local-6989586621679102340"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102340"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#BookTitle"><span class="hs-identifier hs-var">P.BookTitle</span></a></span><span>    </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102340"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-189"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Chapter</span></span><span>      </span><span id="local-6989586621679102343"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102343"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Chapter"><span class="hs-identifier hs-var">P.Chapter</span></a></span><span>      </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102343"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-190"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Edition</span></span><span>      </span><span id="local-6989586621679102346"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102346"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Edition"><span class="hs-identifier hs-var">P.Edition</span></a></span><span>      </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102346"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Editor</span></span><span>       </span><span id="local-6989586621679102349"><span class="annot"><span class="annottext">People
</span><a href="#local-6989586621679102349"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">People -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Editor"><span class="hs-identifier hs-var">P.Editor</span></a></span><span>       </span><span class="annot"><span class="annottext">People
</span><a href="#local-6989586621679102349"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-192"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Institution</span></span><span>  </span><span id="local-6989586621679102352"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102352"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Institution"><span class="hs-identifier hs-var">P.Institution</span></a></span><span>  </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102352"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-193"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Journal</span></span><span>      </span><span id="local-6989586621679102355"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102355"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Journal"><span class="hs-identifier hs-var">P.Journal</span></a></span><span>      </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102355"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-194"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Month</span></span><span>        </span><span id="local-6989586621679102358"><span class="annot"><span class="annottext">Month
</span><a href="#local-6989586621679102358"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Month -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Month"><span class="hs-identifier hs-var">P.Month</span></a></span><span>        </span><span class="annot"><span class="annottext">Month
</span><a href="#local-6989586621679102358"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-195"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Note</span></span><span>         </span><span id="local-6989586621679102361"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102361"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Note"><span class="hs-identifier hs-var">P.Note</span></a></span><span>         </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102361"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Number</span></span><span>       </span><span id="local-6989586621679102364"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102364"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Number"><span class="hs-identifier hs-var">P.Number</span></a></span><span>       </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102364"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-197"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Organization</span></span><span> </span><span id="local-6989586621679102367"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102367"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Organization"><span class="hs-identifier hs-var">P.Organization</span></a></span><span> </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102367"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-198"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Pages</span></span><span>        </span><span id="local-6989586621679102370"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679102370"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Pages"><span class="hs-identifier hs-var">P.Pages</span></a></span><span>        </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679102370"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-199"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Publisher</span></span><span>    </span><span id="local-6989586621679102373"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102373"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Publisher"><span class="hs-identifier hs-var">P.Publisher</span></a></span><span>    </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102373"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">School</span></span><span>       </span><span id="local-6989586621679102376"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102376"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#School"><span class="hs-identifier hs-var">P.School</span></a></span><span>       </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102376"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-201"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Series</span></span><span>       </span><span id="local-6989586621679102379"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102379"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Series"><span class="hs-identifier hs-var">P.Series</span></a></span><span>       </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102379"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-202"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Title</span></span><span>        </span><span id="local-6989586621679102382"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102382"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Title"><span class="hs-identifier hs-var">P.Title</span></a></span><span>        </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102382"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-203"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>         </span><span id="local-6989586621679102385"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102385"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Type"><span class="hs-identifier hs-var">P.Type</span></a></span><span>         </span><span class="annot"><span class="annottext">(Title -&gt; CiteField) -&gt; Title -&gt; CiteField
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102385"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-204"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Volume</span></span><span>       </span><span id="local-6989586621679102388"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102388"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Volume"><span class="hs-identifier hs-var">P.Volume</span></a></span><span>       </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102388"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-205"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Year</span></span><span>         </span><span id="local-6989586621679102391"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102391"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#Year"><span class="hs-identifier hs-var">P.Year</span></a></span><span>         </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679102391"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-206"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HowPublished</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">URL</span></span><span>  </span><span id="local-6989586621679102395"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102395"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HP -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#HowPublished"><span class="hs-identifier hs-var">P.HowPublished</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Title -&gt; HP
</span><a href="Language.Drasil.Printing.Citation.html#URL"><span class="hs-identifier hs-var">P.URL</span></a></span><span>  </span><span class="annot"><span class="annottext">(Title -&gt; HP) -&gt; Title -&gt; HP
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102395"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#layField"><span class="hs-identifier hs-var">layField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HowPublished</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Verb</span></span><span> </span><span id="local-6989586621679102399"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102399"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HP -&gt; CiteField
</span><a href="Language.Drasil.Printing.Citation.html#HowPublished"><span class="hs-identifier hs-var">P.HowPublished</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Title -&gt; HP
</span><a href="Language.Drasil.Printing.Citation.html#Verb"><span class="hs-identifier hs-var">P.Verb</span></a></span><span> </span><span class="annot"><span class="annottext">(Title -&gt; HP) -&gt; Title -&gt; HP
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679102399"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="annot"><span class="hs-comment">-- | Translates lists to be printable.</span></span><span>
</span><span id="line-210"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-type">makeL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ListType</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.AST.html#ListType"><span class="hs-identifier hs-type">P.ListType</span></a></span><span>
</span><span id="line-211"></span><span id="makeL"><span class="annot"><span class="annottext">makeL :: PrintingInformation -&gt; ListType -&gt; ListType
</span><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var hs-var">makeL</span></a></span></span><span> </span><span id="local-6989586621679102401"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102401"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bullet</span></span><span> </span><span id="local-6989586621679102403"><span class="annot"><span class="annottext">[(ItemType, Maybe [Char])]
</span><a href="#local-6989586621679102403"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ItemType, Maybe Title)] -&gt; ListType
</span><a href="Language.Drasil.Printing.AST.html#Unordered"><span class="hs-identifier hs-var">P.Unordered</span></a></span><span>   </span><span class="annot"><span class="annottext">([(ItemType, Maybe Title)] -&gt; ListType)
-&gt; [(ItemType, Maybe Title)] -&gt; ListType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((ItemType, Maybe [Char]) -&gt; (ItemType, Maybe Title))
-&gt; [(ItemType, Maybe [Char])] -&gt; [(ItemType, Maybe Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ItemType -&gt; ItemType)
-&gt; (Maybe [Char] -&gt; Maybe Title)
-&gt; (ItemType, Maybe [Char])
-&gt; (ItemType, Maybe Title)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; ItemType -&gt; ItemType
</span><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102401"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; Maybe [Char] -&gt; Maybe Title
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(ItemType, Maybe [Char])]
</span><a href="#local-6989586621679102403"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-212"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span id="local-6989586621679102405"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102405"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Numeric</span></span><span> </span><span id="local-6989586621679102407"><span class="annot"><span class="annottext">[(ItemType, Maybe [Char])]
</span><a href="#local-6989586621679102407"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(ItemType, Maybe Title)] -&gt; ListType
</span><a href="Language.Drasil.Printing.AST.html#Ordered"><span class="hs-identifier hs-var">P.Ordered</span></a></span><span>     </span><span class="annot"><span class="annottext">([(ItemType, Maybe Title)] -&gt; ListType)
-&gt; [(ItemType, Maybe Title)] -&gt; ListType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((ItemType, Maybe [Char]) -&gt; (ItemType, Maybe Title))
-&gt; [(ItemType, Maybe [Char])] -&gt; [(ItemType, Maybe Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ItemType -&gt; ItemType)
-&gt; (Maybe [Char] -&gt; Maybe Title)
-&gt; (ItemType, Maybe [Char])
-&gt; (ItemType, Maybe Title)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: * -&gt; * -&gt; *) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><span class="hs-identifier hs-var">bimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; ItemType -&gt; ItemType
</span><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102405"><span class="hs-identifier hs-var">sm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; Maybe [Char] -&gt; Maybe Title
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(ItemType, Maybe [Char])]
</span><a href="#local-6989586621679102407"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-213"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span id="local-6989586621679102408"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102408"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Simple</span></span><span> </span><span id="local-6989586621679102410"><span class="annot"><span class="annottext">[ListTuple]
</span><a href="#local-6989586621679102410"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)] -&gt; ListType
</span><a href="Language.Drasil.Printing.AST.html#Simple"><span class="hs-identifier hs-var">P.Simple</span></a></span><span>      </span><span class="annot"><span class="annottext">([(Title, ItemType, Maybe Title)] -&gt; ListType)
-&gt; [(Title, ItemType, Maybe Title)] -&gt; ListType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ListTuple -&gt; (Title, ItemType, Maybe Title))
-&gt; [ListTuple] -&gt; [(Title, ItemType, Maybe Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679102411"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102411"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679102412"><span class="annot"><span class="annottext">ItemType
</span><a href="#local-6989586621679102412"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679102413"><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679102413"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102408"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102411"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; ItemType -&gt; ItemType
</span><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102408"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">ItemType
</span><a href="#local-6989586621679102412"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; Maybe [Char] -&gt; Maybe Title
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679102413"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ListTuple]
</span><a href="#local-6989586621679102410"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-214"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span id="local-6989586621679102414"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102414"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Desc</span></span><span> </span><span id="local-6989586621679102416"><span class="annot"><span class="annottext">[ListTuple]
</span><a href="#local-6989586621679102416"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)] -&gt; ListType
</span><a href="Language.Drasil.Printing.AST.html#Desc"><span class="hs-identifier hs-var">P.Desc</span></a></span><span>        </span><span class="annot"><span class="annottext">([(Title, ItemType, Maybe Title)] -&gt; ListType)
-&gt; [(Title, ItemType, Maybe Title)] -&gt; ListType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ListTuple -&gt; (Title, ItemType, Maybe Title))
-&gt; [ListTuple] -&gt; [(Title, ItemType, Maybe Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679102417"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102417"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679102418"><span class="annot"><span class="annottext">ItemType
</span><a href="#local-6989586621679102418"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679102419"><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679102419"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102414"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102417"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; ItemType -&gt; ItemType
</span><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102414"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">ItemType
</span><a href="#local-6989586621679102418"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; Maybe [Char] -&gt; Maybe Title
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679102419"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ListTuple]
</span><a href="#local-6989586621679102416"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-215"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span id="local-6989586621679102420"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102420"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Definitions</span></span><span> </span><span id="local-6989586621679102422"><span class="annot"><span class="annottext">[ListTuple]
</span><a href="#local-6989586621679102422"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Title, ItemType, Maybe Title)] -&gt; ListType
</span><a href="Language.Drasil.Printing.AST.html#Definitions"><span class="hs-identifier hs-var">P.Definitions</span></a></span><span> </span><span class="annot"><span class="annottext">([(Title, ItemType, Maybe Title)] -&gt; ListType)
-&gt; [(Title, ItemType, Maybe Title)] -&gt; ListType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ListTuple -&gt; (Title, ItemType, Maybe Title))
-&gt; [ListTuple] -&gt; [(Title, ItemType, Maybe Title)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679102423"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102423"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679102424"><span class="annot"><span class="annottext">ItemType
</span><a href="#local-6989586621679102424"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679102425"><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679102425"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102420"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102423"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; ItemType -&gt; ItemType
</span><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102420"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">ItemType
</span><a href="#local-6989586621679102424"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Title) -&gt; Maybe [Char] -&gt; Maybe Title
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Title
</span><a href="Language.Drasil.Printing.AST.html#S"><span class="hs-identifier hs-var">P.S</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Char]
</span><a href="#local-6989586621679102425"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ListTuple]
</span><a href="#local-6989586621679102422"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><span class="hs-comment">-- | Helper for translating list items to be printable.</span></span><span>
</span><span id="line-218"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-type">item</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.PrintingInformation.html#PrintingInformation"><span class="hs-identifier hs-type">PrintingInformation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ItemType</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Printing.AST.html#ItemType"><span class="hs-identifier hs-type">P.ItemType</span></a></span><span>
</span><span id="line-219"></span><span id="item"><span class="annot"><span class="annottext">item :: PrintingInformation -&gt; ItemType -&gt; ItemType
</span><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var hs-var">item</span></a></span></span><span> </span><span id="local-6989586621679102426"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102426"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Flat</span></span><span> </span><span id="local-6989586621679102428"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102428"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; ItemType
</span><a href="Language.Drasil.Printing.AST.html#Flat"><span class="hs-identifier hs-var">P.Flat</span></a></span><span> </span><span class="annot"><span class="annottext">(Title -&gt; ItemType) -&gt; Title -&gt; ItemType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102426"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102428"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Language.Drasil.Printing.Import.Document.html#item"><span class="hs-identifier hs-var">item</span></a></span><span> </span><span id="local-6989586621679102430"><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102430"><span class="hs-identifier hs-var">sm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nested</span></span><span> </span><span id="local-6989586621679102432"><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102432"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679102433"><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102433"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; ListType -&gt; ItemType
</span><a href="Language.Drasil.Printing.AST.html#Nested"><span class="hs-identifier hs-var">P.Nested</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; Title -&gt; Title
</span><a href="Language.Drasil.Printing.Import.Sentence.html#spec"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102430"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679102432"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrintingInformation -&gt; ListType -&gt; ListType
</span><a href="Language.Drasil.Printing.Import.Document.html#makeL"><span class="hs-identifier hs-var">makeL</span></a></span><span> </span><span class="annot"><span class="annottext">PrintingInformation
</span><a href="#local-6989586621679102430"><span class="hs-identifier hs-var">sm</span></a></span><span> </span><span class="annot"><span class="annottext">ListType
</span><a href="#local-6989586621679102433"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span></pre></body></html>