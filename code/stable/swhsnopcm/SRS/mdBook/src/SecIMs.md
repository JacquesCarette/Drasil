# Instance Models {#Sec:IMs}

This section transforms the problem defined in the [problem description](./SecProbDesc.md#Sec:ProbDesc) into one which is expressed in mathematical terms. It uses concrete symbols defined in the [data definitions](./SecDDs.md#Sec:DDs) to replace the abstract symbols in the models identified in [theoretical models](./SecTMs.md#Sec:TMs) and [general definitions](./SecGDs.md#Sec:GDs).

The goal [GS:Predict-Water-Temperature](./SecGoalStmt.md#waterTempGS) is met by [IM:eBalanceOnWtr](./SecIMs.md#IM:eBalanceOnWtr) and the goal [GS:Predict-Water-Energy](./SecGoalStmt.md#waterEnergyGS) is met by [IM:heatEInWtr](./SecIMs.md#IM:heatEInWtr).

<div align="center">

## Energy balance on water to find the temperature of the water {#IM:eBalanceOnWtr}

</div>

|Refname           |IM:eBalanceOnWtr                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|:-----------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|Label             |Energy balance on water to find the temperature of the water                                                                                                                                                                                                                                                                                                                                                                                                                    |
|Input             |\\({T\_{\text{C}}}\\), \\({T\_{\text{init}}}\\), \\({t\_{\text{final}}}\\), \\({A\_{\text{C}}}\\), \\({h\_{\text{C}}}\\), \\({C\_{\text{W}}}\\), \\({m\_{\text{W}}}\\)                                                                                                                                                                                                                                                                                                          |
|Output            |\\({T\_{\text{W}}}\\)                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|Input Constraints |\\[{T\_{\text{C}}}\geq{}{T\_{\text{init}}}\\]                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|Output Constraints|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|Equation          |\\[\frac{\\,d{T\_{\text{W}}}}{\\,dt}+\frac{1}{{τ\_{\text{W}}}}\\,{{T\_{\text{W}}}}=\frac{1}{{τ\_{\text{W}}}}\\,{T\_{\text{C}}}\\]                                                                                                                                                                                                                                                                                                                                               |
|Description       |<ul><li>\\(t\\) is the time (\\({\text{s}}\\))</li><li>\\({T\_{\text{W}}}\\) is the temperature of the water (\\({{}^{\circ}\text{C}}\\))</li><li>\\({τ\_{\text{W}}}\\) is the ODE parameter for water related to decay time (\\({\text{s}}\\))</li><li>\\({T\_{\text{C}}}\\) is the temperature of the heating coil (\\({{}^{\circ}\text{C}}\\))</li></ul>                                                                                                                     |
|Notes             |<ul><li>\\({τ\_{\text{W}}}\\) is calculated from [DD:balanceDecayRate](./SecDDs.md#DD:balanceDecayRate).</li><li>The above equation applies as long as the water is in liquid form, \\(0\lt{}{T\_{\text{W}}}\lt{}100\\) (\\({{}^{\circ}\text{C}}\\)) where \\(0\\) (\\({{}^{\circ}\text{C}}\\)) and \\(100\\) (\\({{}^{\circ}\text{C}}\\)) are the melting and boiling point temperatures of water, respectively ([A:Water-Always-Liquid](./SecAssumps.md#assumpWAL)).</li></ul>|
|Source            |[koothoor2013](./SecReferences.md#koothoor2013) (with PCM removed)                                                                                                                                                                                                                                                                                                                                                                                                              |
|RefBy             |[UC:No-Internal-Heat-Generation](./SecUCs.md#unlikeChgNIHG), [FR:Output-Values](./SecFRs.md#outputValues), [FR:Find-Mass](./SecFRs.md#findMass), and [FR:Calculate-Values](./SecFRs.md#calcValues)                                                                                                                                                                                                                                                                              |

#### Detailed derivation of the energy balance on water: {#IM:eBalanceOnWtrDeriv}

To find the rate of change of \\({T\_{\text{W}}}\\), we look at the energy balance on water. The volume being considered is the volume of water in the tank \\({V\_{\text{W}}}\\), which has mass \\({m\_{\text{W}}}\\) and specific heat capacity, \\({C\_{\text{W}}}\\). Heat transfer occurs in the water from the heating coil as \\({q\_{\text{C}}}\\) ([GD:htFluxWaterFromCoil](./SecGDs.md#GD:htFluxWaterFromCoil)), over area \\({A\_{\text{C}}}\\). No heat transfer occurs to the outside of the tank, since it has been assumed to be perfectly insulated ([A:Perfect-Insulation-Tank](./SecAssumps.md#assumpPIT)). Since the assumption is made that no internal heat is generated ([A:No-Internal-Heat-Generation-By-Water](./SecAssumps.md#assumpNIHGBW)), \\(g=0\\). Therefore, the equation for [GD:rocTempSimp](./SecGDs.md#GD:rocTempSimp) can be written as:

\\[{m\_{\text{W}}}\\,{C\_{\text{W}}}\\,\frac{\\,d{T\_{\text{W}}}}{\\,dt}={q\_{\text{C}}}\\,{A\_{\text{C}}}\\]

Using [GD:htFluxWaterFromCoil](./SecGDs.md#GD:htFluxWaterFromCoil) for \\({q\_{\text{C}}}\\), this can be written as:

\\[{m\_{\text{W}}}\\,{C\_{\text{W}}}\\,\frac{\\,d{T\_{\text{W}}}}{\\,dt}={h\_{\text{C}}}\\,{A\_{\text{C}}}\\,\left({T\_{\text{C}}}-{T\_{\text{W}}}\right)\\]

Dividing Equation (2) by \\({m\_{\text{W}}}\\,{C\_{\text{W}}}\\), we obtain:

\\[\frac{\\,d{T\_{\text{W}}}}{\\,dt}=\frac{{h\_{\text{C}}}\\,{A\_{\text{C}}}}{{m\_{\text{W}}}\\,{C\_{\text{W}}}}\\,\left({T\_{\text{C}}}-{T\_{\text{W}}}\right)\\]

By substituting \\({τ\_{\text{W}}}\\) (from [DD:balanceDecayRate](./SecDDs.md#DD:balanceDecayRate)), this can be written as:

\\[\frac{\\,d{T\_{\text{W}}}}{\\,dt}=\frac{1}{{τ\_{\text{W}}}}\\,\left({T\_{\text{C}}}-{T\_{\text{W}}}\right)\\]

<div align="center">

## Heat energy in the water {#IM:heatEInWtr}

</div>

|Refname           |IM:heatEInWtr                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|:-----------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|Label             |Heat energy in the water                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|Input             |\\({T\_{\text{init}}}\\), \\({m\_{\text{W}}}\\), \\({C\_{\text{W}}}\\), \\({m\_{\text{W}}}\\)                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|Output            |\\({E\_{\text{W}}}\\)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|Input Constraints |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|Output Constraints|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|Equation          |\\[{E\_{\text{W}}}\left(t\right)={C\_{\text{W}}}\\,{m\_{\text{W}}}\\,\left({T\_{\text{W}}}\left(t\right)-{T\_{\text{init}}}\right)\\]                                                                                                                                                                                                                                                                                                                                                                                                       |
|Description       |<ul><li>\\({E\_{\text{W}}}\\) is the change in heat energy in the water (\\({\text{J}}\\))</li><li>\\(t\\) is the time (\\({\text{s}}\\))</li><li>\\({C\_{\text{W}}}\\) is the specific heat capacity of water (\\(\frac{\text{J}}{\text{kg}{}^{\circ}\text{C}}\\))</li><li>\\({m\_{\text{W}}}\\) is the mass of water (\\({\text{kg}}\\))</li><li>\\({T\_{\text{W}}}\\) is the temperature of the water (\\({{}^{\circ}\text{C}}\\))</li><li>\\({T\_{\text{init}}}\\) is the initial temperature (\\({{}^{\circ}\text{C}}\\))</li></ul>    |
|Notes             |<ul><li>The above equation is derived using [TM:sensHtE](./SecTMs.md#TM:sensHtE).</li><li>The change in temperature is the difference between the temperature at time \\(t\\) (\\({\text{s}}\\)), \\({T\_{\text{W}}}\\) and the initial temperature, \\({T\_{\text{init}}}\\) (\\({{}^{\circ}\text{C}}\\)).</li><li>This equation applies as long as \\(0\lt{}{T\_{\text{W}}}\lt{}100\\)\\({{}^{\circ}\text{C}}\\) ([A:Water-Always-Liquid](./SecAssumps.md#assumpWAL), [A:Atmospheric-Pressure-Tank](./SecAssumps.md#assumpAPT)).</li></ul>|
|Source            |[koothoor2013](./SecReferences.md#koothoor2013)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|RefBy             |[FR:Output-Values](./SecFRs.md#outputValues) and [FR:Calculate-Values](./SecFRs.md#calcValues)                                                                                                                                                                                                                                                                                                                                                                                                                                              |
