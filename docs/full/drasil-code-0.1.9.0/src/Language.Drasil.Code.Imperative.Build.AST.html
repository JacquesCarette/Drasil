<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language.Drasil.Code.Imperative.Build.AST</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Build.Drasil</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">makeS</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MakeString</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkImplicitVar</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkWindowsVar</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkOSVar</span></span><span class="hs-special">,</span><span>
</span><span id="line-3"></span><span>  </span><span class="annot"><span class="hs-identifier">Command</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mkCheckedCommand</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Dependencies</span></span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="annot"><span class="hs-comment">-- | Used to build commands. Type synonym of a 'MakeString' for clarity.</span></span><span>
</span><span id="line-6"></span><span class="hs-keyword">type</span><span> </span><span id="CommandFragment"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-var">CommandFragment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MakeString</span></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="annot"><span class="hs-comment">-- | Type for holding the build name.</span></span><span>
</span><span id="line-9"></span><span class="hs-keyword">data</span><span> </span><span id="BuildName"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-var">BuildName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BMain"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BMain"><span class="hs-identifier hs-var">BMain</span></a></span></span><span>
</span><span id="line-10"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="BPackName"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BPackName"><span class="hs-identifier hs-var">BPackName</span></a></span></span><span>
</span><span id="line-11"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="BPack"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BPack"><span class="hs-identifier hs-var">BPack</span></a></span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-12"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="BWithExt"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BWithExt"><span class="hs-identifier hs-var">BWithExt</span></a></span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Ext"><span class="hs-identifier hs-type">Ext</span></a></span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="annot"><span class="hs-comment">-- | File extentions.</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">data</span><span> </span><span id="Ext"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Ext"><span class="hs-identifier hs-var">Ext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CodeExt"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CodeExt"><span class="hs-identifier hs-var">CodeExt</span></a></span></span><span>
</span><span id="line-16"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span id="OtherExt"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#OtherExt"><span class="hs-identifier hs-var">OtherExt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">MakeString</span></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="annot"><span class="hs-comment">-- | Builds may only require themselves or have a dependency.</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">data</span><span> </span><span id="BuildDependencies"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildDependencies"><span class="hs-identifier hs-var">BuildDependencies</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BcSource"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BcSource"><span class="hs-identifier hs-var">BcSource</span></a></span></span><span>
</span><span id="line-20"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span id="BcSingle"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BcSingle"><span class="hs-identifier hs-var">BcSingle</span></a></span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-comment">-- | Build configuration. In the function parameter, the first parameter is the list of inputs,</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- 2nd parameter is the output file, 3rd parameter is additional name if needed.</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- The two 'Maybe' 'BuildName's are the output file and the additional name.</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Also holds the build dependencies.</span><span>
</span><span id="line-26"></span><span class="hs-keyword">data</span><span> </span><span id="BuildConfig"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-var">BuildConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BuildConfig"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-var">BuildConfig</span></a></span></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildCommand"><span class="hs-identifier hs-type">BuildCommand</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildDependencies"><span class="hs-identifier hs-type">BuildDependencies</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="annot"><span class="hs-comment">-- | Run commands as they are or through an interpreter.</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">data</span><span> </span><span id="RunType"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#RunType"><span class="hs-identifier hs-var">RunType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Standalone"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Standalone"><span class="hs-identifier hs-var">Standalone</span></a></span></span><span>
</span><span id="line-32"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="Interpreter"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="annot"><span class="hs-comment">-- | Contains all the information needed to run a command.</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">data</span><span> </span><span id="Runnable"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-var">Runnable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Runnable"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-var">Runnable</span></a></span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#NameOpts"><span class="hs-identifier hs-type">NameOpts</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#RunType"><span class="hs-identifier hs-type">RunType</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="annot"><span class="hs-comment">-- | Configures a document based on dependencies and commands.</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">data</span><span> </span><span id="DocConfig"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#DocConfig"><span class="hs-identifier hs-var">DocConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DocConfig"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#DocConfig"><span class="hs-identifier hs-var">DocConfig</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dependencies</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Command</span></span><span class="hs-special">]</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="annot"><span class="hs-comment">-- | Naming options. Includes a package separator and an option for including extensions.</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">data</span><span> </span><span id="NameOpts"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#NameOpts"><span class="hs-identifier hs-var">NameOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NameOpts"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#NameOpts"><span class="hs-identifier hs-var">NameOpts</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-42"></span><span>  </span><span id="packSep"><span class="annot"><span class="annottext">NameOpts -&gt; String
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#packSep"><span class="hs-identifier hs-var hs-var">packSep</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span id="includeExt"><span class="annot"><span class="annottext">NameOpts -&gt; Bool
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#includeExt"><span class="hs-identifier hs-var hs-var">includeExt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-44"></span><span class="hs-special">}</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="annot"><span class="hs-comment">-- | Default name options. Packages separately by &quot;/&quot; and includes extension.</span></span><span>
</span><span id="line-47"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#nameOpts"><span class="hs-identifier hs-type">nameOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#NameOpts"><span class="hs-identifier hs-type">NameOpts</span></a></span><span>
</span><span id="line-48"></span><span id="nameOpts"><span class="annot"><span class="annottext">nameOpts :: NameOpts
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#nameOpts"><span class="hs-identifier hs-var hs-var">nameOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#NameOpts"><span class="hs-identifier hs-type">NameOpts</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="annottext">packSep :: String
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#packSep"><span class="hs-identifier hs-var">packSep</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;/&quot;</span></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><span class="annottext">includeExt :: Bool
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#includeExt"><span class="hs-identifier hs-var">includeExt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-51"></span><span class="hs-special">}</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><span class="hs-comment">-- | Build commands. Made up of 'CommandFragment's.</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">type</span><span> </span><span id="BuildCommand"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildCommand"><span class="hs-identifier hs-var">BuildCommand</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-55"></span><span class="annot"><span class="hs-comment">-- | Interpreter commands are made up of a 'String'.</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">type</span><span> </span><span id="InterpreterCommand"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#InterpreterCommand"><span class="hs-identifier hs-var">InterpreterCommand</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-57"></span><span class="annot"><span class="hs-comment">-- | Interpreter options are made up of a 'String'.</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">type</span><span> </span><span id="InterpreterOption"><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#InterpreterOption"><span class="hs-identifier hs-var">InterpreterOption</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="annot"><span class="hs-comment">-- | Translates a 'String' into a command fragment.</span></span><span>
</span><span id="line-61"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#asFragment"><span class="hs-identifier hs-type">asFragment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span>
</span><span id="line-62"></span><span id="asFragment"><span class="annot"><span class="annottext">asFragment :: String -&gt; CommandFragment
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#asFragment"><span class="hs-identifier hs-var hs-var">asFragment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">makeS</span></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><span class="hs-comment">-- | OS default variable (Windows). Calls 'mkWindowsVar'.</span></span><span>
</span><span id="line-65"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#osClassDefault"><span class="hs-identifier hs-type">osClassDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span>
</span><span id="line-66"></span><span id="osClassDefault"><span class="annot"><span class="annottext">osClassDefault :: String -&gt; String -&gt; String -&gt; CommandFragment
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#osClassDefault"><span class="hs-identifier hs-var hs-var">osClassDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">mkWindowsVar</span></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="annot"><span class="hs-comment">-- | Constructor for a build configuration. No additional name included.</span></span><span>
</span><span id="line-69"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#buildAll"><span class="hs-identifier hs-type">buildAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildCommand"><span class="hs-identifier hs-type">BuildCommand</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-type">BuildConfig</span></a></span><span>
</span><span id="line-71"></span><span id="buildAll"><span class="annot"><span class="annottext">buildAll :: ([CommandFragment] -&gt; CommandFragment -&gt; [[CommandFragment]])
-&gt; BuildName -&gt; Maybe BuildConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#buildAll"><span class="hs-identifier hs-var hs-var">buildAll</span></a></span></span><span> </span><span id="local-6989586621679344413"><span class="annot"><span class="annottext">[CommandFragment] -&gt; CommandFragment -&gt; [[CommandFragment]]
</span><a href="#local-6989586621679344413"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679344414"><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344414"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildConfig -&gt; Maybe BuildConfig
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(BuildConfig -&gt; Maybe BuildConfig)
-&gt; BuildConfig -&gt; Maybe BuildConfig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([CommandFragment]
 -&gt; CommandFragment -&gt; CommandFragment -&gt; [[CommandFragment]])
-&gt; Maybe BuildName
-&gt; Maybe BuildName
-&gt; BuildDependencies
-&gt; BuildConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-var">BuildConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679344415"><span class="annot"><span class="annottext">[CommandFragment]
</span><a href="#local-6989586621679344415"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679344416"><span class="annot"><span class="annottext">CommandFragment
</span><a href="#local-6989586621679344416"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="annot"><span class="annottext">CommandFragment
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CommandFragment] -&gt; CommandFragment -&gt; [[CommandFragment]]
</span><a href="#local-6989586621679344413"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[CommandFragment]
</span><a href="#local-6989586621679344415"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CommandFragment
</span><a href="#local-6989586621679344416"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildName -&gt; Maybe BuildName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344414"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe BuildName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">BuildDependencies
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BcSource"><span class="hs-identifier hs-var">BcSource</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="annot"><span class="hs-comment">-- | Constructor for a build configuration with an additional name included.</span></span><span>
</span><span id="line-74"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#buildAllAdditionalName"><span class="hs-identifier hs-type">buildAllAdditionalName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildCommand"><span class="hs-identifier hs-type">BuildCommand</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-type">BuildConfig</span></a></span><span>
</span><span id="line-77"></span><span id="buildAllAdditionalName"><span class="annot"><span class="annottext">buildAllAdditionalName :: ([CommandFragment]
 -&gt; CommandFragment -&gt; CommandFragment -&gt; [[CommandFragment]])
-&gt; BuildName -&gt; BuildName -&gt; Maybe BuildConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#buildAllAdditionalName"><span class="hs-identifier hs-var hs-var">buildAllAdditionalName</span></a></span></span><span> </span><span id="local-6989586621679344418"><span class="annot"><span class="annottext">[CommandFragment]
-&gt; CommandFragment -&gt; CommandFragment -&gt; [[CommandFragment]]
</span><a href="#local-6989586621679344418"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679344419"><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344419"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679344420"><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344420"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildConfig -&gt; Maybe BuildConfig
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(BuildConfig -&gt; Maybe BuildConfig)
-&gt; BuildConfig -&gt; Maybe BuildConfig
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([CommandFragment]
 -&gt; CommandFragment -&gt; CommandFragment -&gt; [[CommandFragment]])
-&gt; Maybe BuildName
-&gt; Maybe BuildName
-&gt; BuildDependencies
-&gt; BuildConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-var">BuildConfig</span></a></span><span> </span><span class="annot"><span class="annottext">[CommandFragment]
-&gt; CommandFragment -&gt; CommandFragment -&gt; [[CommandFragment]]
</span><a href="#local-6989586621679344418"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildName -&gt; Maybe BuildName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344419"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildName -&gt; Maybe BuildName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344420"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">BuildDependencies
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BcSource"><span class="hs-identifier hs-var">BcSource</span></a></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | Constructor for a build configuration.</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- No additional name included, but takes in a single dependency.</span><span>
</span><span id="line-81"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#buildSingle"><span class="hs-identifier hs-type">buildSingle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildCommand"><span class="hs-identifier hs-type">BuildCommand</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-type">BuildConfig</span></a></span><span>
</span><span id="line-83"></span><span id="buildSingle"><span class="annot"><span class="annottext">buildSingle :: ([CommandFragment] -&gt; CommandFragment -&gt; [[CommandFragment]])
-&gt; BuildName -&gt; BuildName -&gt; Maybe BuildConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#buildSingle"><span class="hs-identifier hs-var hs-var">buildSingle</span></a></span></span><span> </span><span id="local-6989586621679344422"><span class="annot"><span class="annottext">[CommandFragment] -&gt; CommandFragment -&gt; [[CommandFragment]]
</span><a href="#local-6989586621679344422"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679344423"><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344423"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildConfig -&gt; Maybe BuildConfig
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(BuildConfig -&gt; Maybe BuildConfig)
-&gt; (BuildName -&gt; BuildConfig) -&gt; BuildName -&gt; Maybe BuildConfig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([CommandFragment]
 -&gt; CommandFragment -&gt; CommandFragment -&gt; [[CommandFragment]])
-&gt; Maybe BuildName
-&gt; Maybe BuildName
-&gt; BuildDependencies
-&gt; BuildConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildConfig"><span class="hs-identifier hs-var">BuildConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679344425"><span class="annot"><span class="annottext">[CommandFragment]
</span><a href="#local-6989586621679344425"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679344426"><span class="annot"><span class="annottext">CommandFragment
</span><a href="#local-6989586621679344426"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="annot"><span class="annottext">CommandFragment
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CommandFragment] -&gt; CommandFragment -&gt; [[CommandFragment]]
</span><a href="#local-6989586621679344422"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[CommandFragment]
</span><a href="#local-6989586621679344425"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">CommandFragment
</span><a href="#local-6989586621679344426"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BuildName -&gt; Maybe BuildName
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344423"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe BuildName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(BuildDependencies -&gt; BuildConfig)
-&gt; (BuildName -&gt; BuildDependencies) -&gt; BuildName -&gt; BuildConfig
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><span class="annottext">BuildName -&gt; BuildDependencies
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BcSingle"><span class="hs-identifier hs-var">BcSingle</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="annot"><span class="hs-comment">-- | Default runnable information.</span></span><span>
</span><span id="line-87"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#nativeBinary"><span class="hs-identifier hs-type">nativeBinary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-type">Runnable</span></a></span><span>
</span><span id="line-88"></span><span id="nativeBinary"><span class="annot"><span class="annottext">nativeBinary :: Maybe Runnable
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#nativeBinary"><span class="hs-identifier hs-var hs-var">nativeBinary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Runnable -&gt; Maybe Runnable
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Runnable -&gt; Maybe Runnable) -&gt; Runnable -&gt; Maybe Runnable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; NameOpts -&gt; RunType -&gt; Runnable
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-var">Runnable</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#executable"><span class="hs-identifier hs-var">executable</span></a></span><span> </span><span class="annot"><span class="annottext">NameOpts
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#nameOpts"><span class="hs-identifier hs-var">nameOpts</span></a></span><span> </span><span class="annot"><span class="annottext">RunType
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#Standalone"><span class="hs-identifier hs-var">Standalone</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><span class="hs-comment">-- | Default target extension is &quot;.exe&quot;.</span></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#executable"><span class="hs-identifier hs-type">executable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-92"></span><span id="executable"><span class="annot"><span class="annottext">executable :: BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#executable"><span class="hs-identifier hs-var hs-var">executable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; Ext -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BWithExt"><span class="hs-identifier hs-var">BWithExt</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BPackName"><span class="hs-identifier hs-var">BPackName</span></a></span><span> </span><span class="annot"><span class="annottext">(Ext -&gt; BuildName) -&gt; Ext -&gt; BuildName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CommandFragment -&gt; Ext
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#OtherExt"><span class="hs-identifier hs-var">OtherExt</span></a></span><span> </span><span class="annot"><span class="annottext">(CommandFragment -&gt; Ext) -&gt; CommandFragment -&gt; Ext
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-93"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; CommandFragment
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#osClassDefault"><span class="hs-identifier hs-var">osClassDefault</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TARGET_EXTENSION&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.exe&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><span class="hs-comment">-- | Default library has the extentions &quot;.dll, .dylib, .so&quot;.</span></span><span>
</span><span id="line-96"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#sharedLibrary"><span class="hs-identifier hs-type">sharedLibrary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-97"></span><span id="sharedLibrary"><span class="annot"><span class="annottext">sharedLibrary :: BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#sharedLibrary"><span class="hs-identifier hs-var hs-var">sharedLibrary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; Ext -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BWithExt"><span class="hs-identifier hs-var">BWithExt</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BPackName"><span class="hs-identifier hs-var">BPackName</span></a></span><span> </span><span class="annot"><span class="annottext">(Ext -&gt; BuildName) -&gt; Ext -&gt; BuildName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CommandFragment -&gt; Ext
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#OtherExt"><span class="hs-identifier hs-var">OtherExt</span></a></span><span> </span><span class="annot"><span class="annottext">(CommandFragment -&gt; Ext) -&gt; CommandFragment -&gt; Ext
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-98"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String -&gt; String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">mkOSVar</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LIB_EXTENSION&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.dll&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.dylib&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.so&quot;</span></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">-- | Constructor for a runnable command that goes through an interpreter.</span></span><span>
</span><span id="line-101"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#interp"><span class="hs-identifier hs-type">interp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#NameOpts"><span class="hs-identifier hs-type">NameOpts</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#InterpreterCommand"><span class="hs-identifier hs-type">InterpreterCommand</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#InterpreterOption"><span class="hs-identifier hs-type">InterpreterOption</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-type">Runnable</span></a></span><span>
</span><span id="line-103"></span><span id="interp"><span class="annot"><span class="annottext">interp :: BuildName -&gt; NameOpts -&gt; String -&gt; [String] -&gt; Maybe Runnable
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#interp"><span class="hs-identifier hs-var hs-var">interp</span></a></span></span><span> </span><span id="local-6989586621679344431"><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344431"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679344432"><span class="annot"><span class="annottext">NameOpts
</span><a href="#local-6989586621679344432"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679344433"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679344433"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Runnable -&gt; Maybe Runnable
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Runnable -&gt; Maybe Runnable)
-&gt; ([String] -&gt; Runnable) -&gt; [String] -&gt; Maybe Runnable
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; NameOpts -&gt; RunType -&gt; Runnable
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-var">Runnable</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344431"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">NameOpts
</span><a href="#local-6989586621679344432"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(RunType -&gt; Runnable)
-&gt; ([String] -&gt; RunType) -&gt; [String] -&gt; Runnable
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[CommandFragment] -&gt; RunType
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span> </span><span class="annot"><span class="annottext">([CommandFragment] -&gt; RunType)
-&gt; ([String] -&gt; [CommandFragment]) -&gt; [String] -&gt; RunType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; CommandFragment) -&gt; [String] -&gt; [CommandFragment]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">makeS</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [CommandFragment])
-&gt; ([String] -&gt; [String]) -&gt; [String] -&gt; [CommandFragment]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679344433"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="annot"><span class="hs-comment">-- | Constructs a runnable command that goes through an interpreter (for main module file).</span></span><span>
</span><span id="line-106"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#interpMM"><span class="hs-identifier hs-type">interpMM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#InterpreterCommand"><span class="hs-identifier hs-type">InterpreterCommand</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-type">Runnable</span></a></span><span>
</span><span id="line-107"></span><span id="interpMM"><span class="annot"><span class="annottext">interpMM :: String -&gt; Maybe Runnable
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#interpMM"><span class="hs-identifier hs-var hs-var">interpMM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Runnable -&gt; Maybe Runnable
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Runnable -&gt; Maybe Runnable)
-&gt; (String -&gt; Runnable) -&gt; String -&gt; Maybe Runnable
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; NameOpts -&gt; RunType -&gt; Runnable
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#Runnable"><span class="hs-identifier hs-var">Runnable</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#mainModuleFile"><span class="hs-identifier hs-var">mainModuleFile</span></a></span><span> </span><span class="annot"><span class="annottext">NameOpts
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#nameOpts"><span class="hs-identifier hs-var">nameOpts</span></a></span><span> </span><span class="annot"><span class="annottext">(RunType -&gt; Runnable) -&gt; (String -&gt; RunType) -&gt; String -&gt; Runnable
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[CommandFragment] -&gt; RunType
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#Interpreter"><span class="hs-identifier hs-var">Interpreter</span></a></span><span> </span><span class="annot"><span class="annottext">([CommandFragment] -&gt; RunType)
-&gt; (String -&gt; [CommandFragment]) -&gt; String -&gt; RunType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CommandFragment -&gt; [CommandFragment] -&gt; [CommandFragment]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CommandFragment -&gt; [CommandFragment])
-&gt; (String -&gt; CommandFragment) -&gt; String -&gt; [CommandFragment]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">makeS</span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="annot"><span class="hs-comment">-- | Main module.</span></span><span>
</span><span id="line-110"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#mainModule"><span class="hs-identifier hs-type">mainModule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-111"></span><span id="mainModule"><span class="annot"><span class="annottext">mainModule :: BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#mainModule"><span class="hs-identifier hs-var hs-var">mainModule</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BMain"><span class="hs-identifier hs-var">BMain</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="annot"><span class="hs-comment">-- | Main module with a default code extension.</span></span><span>
</span><span id="line-114"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#mainModuleFile"><span class="hs-identifier hs-type">mainModuleFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-115"></span><span id="mainModuleFile"><span class="annot"><span class="annottext">mainModuleFile :: BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#mainModuleFile"><span class="hs-identifier hs-var hs-var">mainModuleFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; Ext -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BWithExt"><span class="hs-identifier hs-var">BWithExt</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BMain"><span class="hs-identifier hs-var">BMain</span></a></span><span> </span><span class="annot"><span class="annottext">Ext
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#CodeExt"><span class="hs-identifier hs-var">CodeExt</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="annot"><span class="hs-comment">-- | Module for an in-code package.</span></span><span>
</span><span id="line-118"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#inCodePackage"><span class="hs-identifier hs-type">inCodePackage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-119"></span><span id="inCodePackage"><span class="annot"><span class="annottext">inCodePackage :: BuildName -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#inCodePackage"><span class="hs-identifier hs-var hs-var">inCodePackage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BPack"><span class="hs-identifier hs-var">BPack</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="annot"><span class="hs-comment">-- | Adds an extension to a 'BuildName'.</span></span><span>
</span><span id="line-122"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#withExt"><span class="hs-identifier hs-type">withExt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#BuildName"><span class="hs-identifier hs-type">BuildName</span></a></span><span>
</span><span id="line-123"></span><span id="withExt"><span class="annot"><span class="annottext">withExt :: BuildName -&gt; String -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#withExt"><span class="hs-identifier hs-var hs-var">withExt</span></a></span></span><span> </span><span id="local-6989586621679344439"><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344439"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildName -&gt; Ext -&gt; BuildName
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#BWithExt"><span class="hs-identifier hs-var">BWithExt</span></a></span><span> </span><span class="annot"><span class="annottext">BuildName
</span><a href="#local-6989586621679344439"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">(Ext -&gt; BuildName) -&gt; (String -&gt; Ext) -&gt; String -&gt; BuildName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CommandFragment -&gt; Ext
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#OtherExt"><span class="hs-identifier hs-var">OtherExt</span></a></span><span> </span><span class="annot"><span class="annottext">(CommandFragment -&gt; Ext)
-&gt; (String -&gt; CommandFragment) -&gt; String -&gt; Ext
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">makeS</span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="annot"><span class="hs-comment">-- | C compiler command fragment.</span></span><span>
</span><span id="line-126"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#cCompiler"><span class="hs-identifier hs-type">cCompiler</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span>
</span><span id="line-127"></span><span id="cCompiler"><span class="annot"><span class="annottext">cCompiler :: CommandFragment
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#cCompiler"><span class="hs-identifier hs-var hs-var">cCompiler</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">mkImplicitVar</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CC&quot;</span></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="annot"><span class="hs-comment">-- | C++ compiler command fragment.</span></span><span>
</span><span id="line-130"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#cppCompiler"><span class="hs-identifier hs-type">cppCompiler</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#CommandFragment"><span class="hs-identifier hs-type">CommandFragment</span></a></span><span>
</span><span id="line-131"></span><span id="cppCompiler"><span class="annot"><span class="annottext">cppCompiler :: CommandFragment
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#cppCompiler"><span class="hs-identifier hs-var hs-var">cppCompiler</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">mkImplicitVar</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;CXX&quot;</span></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="annot"><span class="hs-comment">-- | Helper for configuring doxygen documentation.</span></span><span>
</span><span id="line-134"></span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#doxygenDocConfig"><span class="hs-identifier hs-type">doxygenDocConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Code.Imperative.Build.AST.html#DocConfig"><span class="hs-identifier hs-type">DocConfig</span></a></span><span>
</span><span id="line-135"></span><span id="doxygenDocConfig"><span class="annot"><span class="annottext">doxygenDocConfig :: String -&gt; DocConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#doxygenDocConfig"><span class="hs-identifier hs-var hs-var">doxygenDocConfig</span></a></span></span><span> </span><span id="local-6989586621679344444"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679344444"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CommandFragment] -&gt; [Command] -&gt; DocConfig
</span><a href="Language.Drasil.Code.Imperative.Build.AST.html#DocConfig"><span class="hs-identifier hs-var">DocConfig</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">makeS</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679344444"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CommandFragment -&gt; Command
</span><span class="hs-identifier hs-var">mkCheckedCommand</span></span><span> </span><span class="annot"><span class="annottext">(CommandFragment -&gt; Command) -&gt; CommandFragment -&gt; Command
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CommandFragment
</span><span class="hs-identifier hs-var">makeS</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; CommandFragment) -&gt; String -&gt; CommandFragment
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;doxygen &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679344444"><span class="hs-identifier hs-var">fp</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-137"></span></pre></body></html>