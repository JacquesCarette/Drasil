<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# Language TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- | Document Description Language</span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Language.Drasil.Document</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html"><span class="hs-identifier">Language.Drasil.Classes.Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.Core.html#HasUID"><span class="hs-identifier">HasUID</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.Core.html#uid"><span class="hs-identifier">uid</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#getRefAdd"><span class="hs-identifier">getRefAdd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#HasRefAddress"><span class="hs-identifier">HasRefAddress</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.Core.html#getRefAdd"><span class="hs-identifier">getRefAdd</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#Referable"><span class="hs-identifier">Referable</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.Core.html#refAdd"><span class="hs-identifier">refAdd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#renderRef"><span class="hs-identifier">renderRef</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core2.html"><span class="hs-identifier">Language.Drasil.Classes.Core2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.Core2.html#HasShortName"><span class="hs-identifier">HasShortName</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Classes.Core2.html#shortname"><span class="hs-identifier">shortname</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html"><span class="hs-identifier">Language.Drasil.Document.Core</span></a></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Label.Type.html"><span class="hs-identifier">Language.Drasil.Label.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Label.Type.html#prepend"><span class="hs-identifier">prepend</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Label.Type.html#LblType"><span class="hs-identifier">LblType</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Label.Type.html#RP"><span class="hs-identifier">RP</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Label.Type.html#URI"><span class="hs-identifier">URI</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.Label.Type.html#getAdd"><span class="hs-identifier">getAdd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Misc.html"><span class="hs-identifier">Language.Drasil.Misc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Misc.html#repUnd"><span class="hs-identifier">repUnd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html"><span class="hs-identifier">Language.Drasil.Reference</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier">Reference</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier">Reference</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.Sentence.html"><span class="hs-identifier">Language.Drasil.Sentence</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Sentence.html#Sentence"><span class="hs-identifier">Sentence</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.ShortName.html"><span class="hs-identifier">Language.Drasil.ShortName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.ShortName.html#ShortName"><span class="hs-identifier">ShortName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Drasil.ShortName.html#shortname%27"><span class="hs-identifier">shortname'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Drasil.UID.html"><span class="hs-identifier">Language.Drasil.UID</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.UID.html#UID"><span class="hs-identifier">UID</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">makeLenses</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">view</span></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-- | Section Contents are split into subsections or contents, where contents</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- are standard layout objects (see 'Contents').</span><span>
</span><span id="line-19"></span><span class="hs-keyword">data</span><span> </span><span id="SecCons"><span class="annot"><a href="Language.Drasil.Document.html#SecCons"><span class="hs-identifier hs-var">SecCons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sub"><span class="annot"><a href="Language.Drasil.Document.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span></span><span>   </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span>
</span><span id="line-20"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span id="Con"><span class="annot"><a href="Language.Drasil.Document.html#Con"><span class="hs-identifier hs-var">Con</span></a></span></span><span>   </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Contents"><span class="hs-identifier hs-type">Contents</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">data</span><span> </span><span id="Partition"><span class="annot"><a href="Language.Drasil.Document.html#Partition"><span class="hs-identifier hs-var">Partition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sections"><span class="annot"><a href="Language.Drasil.Document.html#Sections"><span class="hs-identifier hs-var">Sections</span></a></span></span><span>
</span><span id="line-23"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="Part"><span class="annot"><a href="Language.Drasil.Document.html#Part"><span class="hs-identifier hs-var">Part</span></a></span></span><span>
</span><span id="line-24"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="Chapter"><span class="annot"><a href="Language.Drasil.Document.html#Chapter"><span class="hs-identifier hs-var">Chapter</span></a></span></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-comment">-- | Sections have a title ('Sentence'), a list of contents ('SecCons')</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- and a shortname ('Reference').</span><span>
</span><span id="line-28"></span><span class="hs-keyword">data</span><span> </span><span id="Section"><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-var">Section</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Section"><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-var">Section</span></a></span></span><span> </span><span>
</span><span id="line-29"></span><span>             </span><span class="hs-special">{</span><span> </span><span id="tle"><span class="annot"><span class="annottext">Section -&gt; Title
</span><a href="Language.Drasil.Document.html#tle"><span class="hs-identifier hs-var hs-var">tle</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Title"><span class="hs-identifier hs-type">Title</span></a></span><span> </span><span>
</span><span id="line-30"></span><span>             </span><span class="hs-special">,</span><span> </span><span id="cons"><span class="annot"><span class="annottext">Section -&gt; [SecCons]
</span><a href="Language.Drasil.Document.html#cons"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.html#SecCons"><span class="hs-identifier hs-type">SecCons</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-31"></span><span>             </span><span class="hs-special">,</span><span> </span><span id="_lab"><span class="annot"><span class="annottext">Section -&gt; Reference
</span><a href="Language.Drasil.Document.html#_lab"><span class="hs-identifier hs-var hs-var">_lab</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span>
</span><span id="line-32"></span><span>             </span><span class="hs-special">}</span><span>
</span><span id="line-33"></span><span id="lab"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Section</span></span><span>
</span><span id="line-34"></span><span>                </span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- | Finds the 'UID' of a 'Section'.</span><span>
</span><span id="line-37"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#HasUID"><span class="hs-identifier hs-type">HasUID</span></a></span><span>        </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679368039"><span class="annot"><span class="annottext">uid :: (UID -&gt; f UID) -&gt; Section -&gt; f Section
</span><a href="#local-6989586621679368039"><span class="hs-identifier hs-var hs-var hs-var hs-var">uid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Reference -&gt; f Reference) -&gt; Section -&gt; f Section
Lens' Section Reference
</span><a href="Language.Drasil.Document.html#lab"><span class="hs-identifier hs-var">lab</span></a></span><span> </span><span class="annot"><span class="annottext">((Reference -&gt; f Reference) -&gt; Section -&gt; f Section)
-&gt; ((UID -&gt; f UID) -&gt; Reference -&gt; f Reference)
-&gt; (UID -&gt; f UID)
-&gt; Section
-&gt; f Section
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(UID -&gt; f UID) -&gt; Reference -&gt; f Reference
forall c. HasUID c =&gt; Lens' c UID
</span><a href="Language.Drasil.Classes.Core.html#uid"><span class="hs-identifier hs-var">uid</span></a></span><span>
</span><span id="line-38"></span><span class="hs-comment">-- | Finds the short name of a 'Section'.</span><span>
</span><span id="line-39"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core2.html#HasShortName"><span class="hs-identifier hs-type">HasShortName</span></a></span><span>  </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679368035"><span class="annot"><span class="annottext">shortname :: Section -&gt; ShortName
</span><a href="#local-6989586621679368035"><span class="hs-identifier hs-var hs-var hs-var hs-var">shortname</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; ShortName
forall s. HasShortName s =&gt; s -&gt; ShortName
</span><a href="Language.Drasil.Classes.Core2.html#shortname"><span class="hs-identifier hs-var">shortname</span></a></span><span> </span><span class="annot"><span class="annottext">(Reference -&gt; ShortName)
-&gt; (Section -&gt; Reference) -&gt; Section -&gt; ShortName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting Reference Section Reference -&gt; Section -&gt; Reference
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Reference Section Reference
Lens' Section Reference
</span><a href="Language.Drasil.Document.html#lab"><span class="hs-identifier hs-var">lab</span></a></span><span>
</span><span id="line-40"></span><span class="hs-comment">-- | Finds the reference information of a 'Section'.</span><span>
</span><span id="line-41"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#Referable"><span class="hs-identifier hs-type">Referable</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>  </span><span id="local-6989586621679368029"><span class="annot"><span class="annottext">refAdd :: Section -&gt; UID
</span><a href="#local-6989586621679368029"><span class="hs-identifier hs-var hs-var hs-var hs-var">refAdd</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LblType -&gt; UID
</span><a href="Language.Drasil.Label.Type.html#getAdd"><span class="hs-identifier hs-var">getAdd</span></a></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; UID) -&gt; (Section -&gt; LblType) -&gt; Section -&gt; UID
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reference -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><a href="Language.Drasil.Classes.Core.html#getRefAdd"><span class="hs-identifier hs-var">getRefAdd</span></a></span><span> </span><span class="annot"><span class="annottext">(Reference -&gt; LblType)
-&gt; (Section -&gt; Reference) -&gt; Section -&gt; LblType
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting Reference Section Reference -&gt; Section -&gt; Reference
forall s (m :: * -&gt; *) a. MonadReader s m =&gt; Getting a s a -&gt; m a
</span><span class="hs-identifier hs-var">view</span></span><span> </span><span class="annot"><span class="annottext">Getting Reference Section Reference
Lens' Section Reference
</span><a href="Language.Drasil.Document.html#lab"><span class="hs-identifier hs-var">lab</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span id="local-6989586621679368028"><span class="annot"><span class="annottext">renderRef :: Section -&gt; LblType
</span><a href="#local-6989586621679368028"><span class="hs-identifier hs-var hs-var hs-var hs-var">renderRef</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679368027"><span class="annot"><span class="annottext">lb :: Reference
</span><a href="#local-6989586621679368027"><span class="hs-identifier hs-var">lb</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IRefProg -&gt; UID -&gt; LblType
</span><a href="Language.Drasil.Label.Type.html#RP"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; IRefProg
</span><a href="Language.Drasil.Label.Type.html#prepend"><span class="hs-identifier hs-var">prepend</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Sec&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LblType -&gt; UID
</span><a href="Language.Drasil.Label.Type.html#getAdd"><span class="hs-identifier hs-var">getAdd</span></a></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; UID) -&gt; LblType -&gt; UID
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reference -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><a href="Language.Drasil.Classes.Core.html#getRefAdd"><span class="hs-identifier hs-var">getRefAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Reference
</span><a href="#local-6989586621679368027"><span class="hs-identifier hs-var">lb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- | Finds the reference address of a 'Section'.</span><span>
</span><span id="line-45"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Language.Drasil.Classes.Core.html#HasRefAddress"><span class="hs-identifier hs-type">HasRefAddress</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679368024"><span class="annot"><span class="annottext">getRefAdd :: Section -&gt; LblType
</span><a href="#local-6989586621679368024"><span class="hs-identifier hs-var hs-var hs-var hs-var">getRefAdd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679368023"><span class="annot"><span class="annottext">lb :: Reference
</span><a href="#local-6989586621679368023"><span class="hs-identifier hs-var">lb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IRefProg -&gt; UID -&gt; LblType
</span><a href="Language.Drasil.Label.Type.html#RP"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; IRefProg
</span><a href="Language.Drasil.Label.Type.html#prepend"><span class="hs-identifier hs-var">prepend</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Sec&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LblType -&gt; UID
</span><a href="Language.Drasil.Label.Type.html#getAdd"><span class="hs-identifier hs-var">getAdd</span></a></span><span> </span><span class="annot"><span class="annottext">(LblType -&gt; UID) -&gt; LblType -&gt; UID
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reference -&gt; LblType
forall b. HasRefAddress b =&gt; b -&gt; LblType
</span><a href="Language.Drasil.Classes.Core.html#getRefAdd"><span class="hs-identifier hs-var">getRefAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Reference
</span><a href="#local-6989586621679368023"><span class="hs-identifier hs-var">lb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-comment">-- | A Document has a Title ('Sentence'), Author(s) ('Sentence'), and 'Section's</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- which hold the contents of the document.</span><span>
</span><span id="line-49"></span><span class="hs-keyword">data</span><span> </span><span id="Document"><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-var">Document</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Document"><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-var">Document</span></a></span></span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Title"><span class="hs-identifier hs-type">Title</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Author"><span class="hs-identifier hs-type">Author</span></a></span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#ShowTableOfContents"><span class="hs-identifier hs-type">ShowTableOfContents</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">-- | Determines whether or not the table of contents appears on the generated artifacts.</span><span>
</span><span id="line-52"></span><span class="hs-keyword">data</span><span> </span><span id="ShowTableOfContents"><span class="annot"><a href="Language.Drasil.Document.html#ShowTableOfContents"><span class="hs-identifier hs-var">ShowTableOfContents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ToC"><span class="annot"><a href="Language.Drasil.Document.html#ToC"><span class="hs-identifier hs-var">ToC</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NoToC"><span class="annot"><a href="Language.Drasil.Document.html#NoToC"><span class="hs-identifier hs-var">NoToC</span></a></span></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">-- Medium hack for now. This function is unable to tell if the section</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- is for a table of contents, as that doesn't appear until docLang.</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- This function is needed by the TeX printer, as TeX carries its own form of creating</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- a table of contents. However, the printer package is compiled before the docLang one.</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- | Manually removes the first section of a document (table of contents section).</span><span>
</span><span id="line-59"></span><span class="annot"><a href="Language.Drasil.Document.html#checkToC"><span class="hs-identifier hs-type">checkToC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-type">Document</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-type">Document</span></a></span><span>
</span><span id="line-60"></span><span id="checkToC"><span class="annot"><span class="annottext">checkToC :: Document -&gt; Document
</span><a href="Language.Drasil.Document.html#checkToC"><span class="hs-identifier hs-var hs-var">checkToC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-type">Document</span></a></span><span> </span><span id="local-6989586621679368017"><span class="annot"><span class="annottext">t :: Title
</span><a href="#local-6989586621679368017"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679368016"><span class="annot"><span class="annottext">a :: Title
</span><a href="#local-6989586621679368016"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679368015"><span class="annot"><span class="annottext">toC :: ShowTableOfContents
</span><a href="#local-6989586621679368015"><span class="hs-identifier hs-var">toC</span></a></span></span><span> </span><span id="local-6989586621679368014"><span class="annot"><span class="annottext">sc :: [Section]
</span><a href="#local-6989586621679368014"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ShowTableOfContents
</span><a href="#local-6989586621679368015"><span class="hs-identifier hs-var">toC</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><a href="Language.Drasil.Document.html#ToC"><span class="hs-identifier hs-type">ToC</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Title -&gt; Title -&gt; ShowTableOfContents -&gt; [Section] -&gt; Document
</span><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-var">Document</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679368017"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679368016"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ShowTableOfContents
</span><a href="#local-6989586621679368015"><span class="hs-identifier hs-var">toC</span></a></span><span> </span><span class="annot"><span class="annottext">([Section] -&gt; Document) -&gt; [Section] -&gt; Document
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Section] -&gt; [Section]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679368014"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Title -&gt; Title -&gt; ShowTableOfContents -&gt; [Section] -&gt; Document
</span><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-var">Document</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679368017"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679368016"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">ShowTableOfContents
</span><a href="#local-6989586621679368015"><span class="hs-identifier hs-var">toC</span></a></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679368014"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-comment">-- | Smart constructor for labelled content chunks.</span><span>
</span><span id="line-66"></span><span class="annot"><a href="Language.Drasil.Document.html#llcc"><span class="hs-identifier hs-type">llcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#RawContent"><span class="hs-identifier hs-type">RawContent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#LabelledContent"><span class="hs-identifier hs-type">LabelledContent</span></a></span><span>
</span><span id="line-67"></span><span id="llcc"><span class="annot"><span class="annottext">llcc :: Reference -&gt; RawContent -&gt; LabelledContent
</span><a href="Language.Drasil.Document.html#llcc"><span class="hs-identifier hs-var hs-var">llcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; RawContent -&gt; LabelledContent
</span><a href="Language.Drasil.Document.Core.html#LblC"><span class="hs-identifier hs-var">LblC</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-comment">-- | Smart constructor for unlabelled content chunks (no 'Reference').</span><span>
</span><span id="line-70"></span><span class="annot"><a href="Language.Drasil.Document.html#ulcc"><span class="hs-identifier hs-type">ulcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#RawContent"><span class="hs-identifier hs-type">RawContent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#UnlabelledContent"><span class="hs-identifier hs-type">UnlabelledContent</span></a></span><span>
</span><span id="line-71"></span><span id="ulcc"><span class="annot"><span class="annottext">ulcc :: RawContent -&gt; UnlabelledContent
</span><a href="Language.Drasil.Document.html#ulcc"><span class="hs-identifier hs-var hs-var">ulcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RawContent -&gt; UnlabelledContent
</span><a href="Language.Drasil.Document.Core.html#UnlblC"><span class="hs-identifier hs-var">UnlblC</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- | Smart constructor that wraps 'UnlabelledContent' into 'Contents'.</span><span>
</span><span id="line-75"></span><span class="annot"><a href="Language.Drasil.Document.html#mkParagraph"><span class="hs-identifier hs-type">mkParagraph</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Sentence.html#Sentence"><span class="hs-identifier hs-type">Sentence</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Contents"><span class="hs-identifier hs-type">Contents</span></a></span><span>
</span><span id="line-76"></span><span id="mkParagraph"><span class="annot"><span class="annottext">mkParagraph :: Title -&gt; Contents
</span><a href="Language.Drasil.Document.html#mkParagraph"><span class="hs-identifier hs-var hs-var">mkParagraph</span></a></span></span><span> </span><span id="local-6989586621679368007"><span class="annot"><span class="annottext">x :: Title
</span><a href="#local-6989586621679368007"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnlabelledContent -&gt; Contents
</span><a href="Language.Drasil.Document.Core.html#UlC"><span class="hs-identifier hs-var">UlC</span></a></span><span> </span><span class="annot"><span class="annottext">(UnlabelledContent -&gt; Contents) -&gt; UnlabelledContent -&gt; Contents
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RawContent -&gt; UnlabelledContent
</span><a href="Language.Drasil.Document.html#ulcc"><span class="hs-identifier hs-var">ulcc</span></a></span><span> </span><span class="annot"><span class="annottext">(RawContent -&gt; UnlabelledContent)
-&gt; RawContent -&gt; UnlabelledContent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Title -&gt; RawContent
</span><a href="Language.Drasil.Document.Core.html#Paragraph"><span class="hs-identifier hs-var">Paragraph</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679368007"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- | Smart constructor that wraps 'LabelledContent' into 'Contents'.</span><span>
</span><span id="line-79"></span><span class="annot"><a href="Language.Drasil.Document.html#mkFig"><span class="hs-identifier hs-type">mkFig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#RawContent"><span class="hs-identifier hs-type">RawContent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Contents"><span class="hs-identifier hs-type">Contents</span></a></span><span>
</span><span id="line-80"></span><span id="mkFig"><span class="annot"><span class="annottext">mkFig :: Reference -&gt; RawContent -&gt; Contents
</span><a href="Language.Drasil.Document.html#mkFig"><span class="hs-identifier hs-var hs-var">mkFig</span></a></span></span><span> </span><span id="local-6989586621679368003"><span class="annot"><span class="annottext">x :: Reference
</span><a href="#local-6989586621679368003"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679368002"><span class="annot"><span class="annottext">y :: RawContent
</span><a href="#local-6989586621679368002"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LabelledContent -&gt; Contents
</span><a href="Language.Drasil.Document.Core.html#LlC"><span class="hs-identifier hs-var">LlC</span></a></span><span> </span><span class="annot"><span class="annottext">(LabelledContent -&gt; Contents) -&gt; LabelledContent -&gt; Contents
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reference -&gt; RawContent -&gt; LabelledContent
</span><a href="Language.Drasil.Document.html#llcc"><span class="hs-identifier hs-var">llcc</span></a></span><span> </span><span class="annot"><span class="annottext">Reference
</span><a href="#local-6989586621679368003"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">RawContent
</span><a href="#local-6989586621679368002"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">--Fixme: use mkRawLc or llcc?</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- | Smart constructor similar to 'llcc', but takes in 'RawContent' first.</span><span>
</span><span id="line-84"></span><span class="annot"><a href="Language.Drasil.Document.html#mkRawLC"><span class="hs-identifier hs-type">mkRawLC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#RawContent"><span class="hs-identifier hs-type">RawContent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#LabelledContent"><span class="hs-identifier hs-type">LabelledContent</span></a></span><span>
</span><span id="line-85"></span><span id="mkRawLC"><span class="annot"><span class="annottext">mkRawLC :: RawContent -&gt; Reference -&gt; LabelledContent
</span><a href="Language.Drasil.Document.html#mkRawLC"><span class="hs-identifier hs-var hs-var">mkRawLC</span></a></span></span><span> </span><span id="local-6989586621679367999"><span class="annot"><span class="annottext">x :: RawContent
</span><a href="#local-6989586621679367999"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679367998"><span class="annot"><span class="annottext">lb :: Reference
</span><a href="#local-6989586621679367998"><span class="hs-identifier hs-var">lb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Reference -&gt; RawContent -&gt; LabelledContent
</span><a href="Language.Drasil.Document.html#llcc"><span class="hs-identifier hs-var">llcc</span></a></span><span> </span><span class="annot"><span class="annottext">Reference
</span><a href="#local-6989586621679367998"><span class="hs-identifier hs-var">lb</span></a></span><span> </span><span class="annot"><span class="annottext">RawContent
</span><a href="#local-6989586621679367999"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- smart constructors and combinators for making instances of the above</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- data types.  Over time, the types should no longer be exported, and</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- only these used</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-comment">-- | Smart constructor for creating 'Section's with a title ('Sentence'), introductory contents</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- (ie. paragraphs, tables, etc.), a list of subsections, and a shortname ('Reference').</span><span>
</span><span id="line-94"></span><span class="annot"><a href="Language.Drasil.Document.html#section"><span class="hs-identifier hs-type">section</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Sentence.html#Sentence"><span class="hs-identifier hs-type">Sentence</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.Core.html#Contents"><span class="hs-identifier hs-type">Contents</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span>
</span><span id="line-95"></span><span id="section"><span class="annot"><span class="annottext">section :: Title -&gt; [Contents] -&gt; [Section] -&gt; Reference -&gt; Section
</span><a href="Language.Drasil.Document.html#section"><span class="hs-identifier hs-var hs-var">section</span></a></span></span><span> </span><span id="local-6989586621679367996"><span class="annot"><span class="annottext">title :: Title
</span><a href="#local-6989586621679367996"><span class="hs-identifier hs-var">title</span></a></span></span><span> </span><span id="local-6989586621679367995"><span class="annot"><span class="annottext">intro :: [Contents]
</span><a href="#local-6989586621679367995"><span class="hs-identifier hs-var">intro</span></a></span></span><span> </span><span id="local-6989586621679367994"><span class="annot"><span class="annottext">secs :: [Section]
</span><a href="#local-6989586621679367994"><span class="hs-identifier hs-var">secs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; [SecCons] -&gt; Reference -&gt; Section
</span><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-var">Section</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679367996"><span class="hs-identifier hs-var">title</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Contents -&gt; SecCons) -&gt; [Contents] -&gt; [SecCons]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Contents -&gt; SecCons
</span><a href="Language.Drasil.Document.html#Con"><span class="hs-identifier hs-var">Con</span></a></span><span> </span><span class="annot"><span class="annottext">[Contents]
</span><a href="#local-6989586621679367995"><span class="hs-identifier hs-var">intro</span></a></span><span> </span><span class="annot"><span class="annottext">[SecCons] -&gt; [SecCons] -&gt; [SecCons]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Section -&gt; SecCons) -&gt; [Section] -&gt; [SecCons]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Section -&gt; SecCons
</span><a href="Language.Drasil.Document.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679367994"><span class="hs-identifier hs-var">secs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- | Smart constructor for retrieving the contents ('Section's) from a 'Document'.</span><span>
</span><span id="line-98"></span><span class="annot"><a href="Language.Drasil.Document.html#extractSection"><span class="hs-identifier hs-type">extractSection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-type">Document</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-99"></span><span id="extractSection"><span class="annot"><span class="annottext">extractSection :: Document -&gt; [Section]
</span><a href="Language.Drasil.Document.html#extractSection"><span class="hs-identifier hs-var hs-var">extractSection</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Document"><span class="hs-identifier hs-type">Document</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679367992"><span class="annot"><span class="annottext">sec :: [Section]
</span><a href="#local-6989586621679367992"><span class="hs-identifier hs-var">sec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Section -&gt; [Section]) -&gt; [Section] -&gt; [Section]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">Section -&gt; [Section]
</span><a href="Language.Drasil.Document.html#getSec"><span class="hs-identifier hs-var">getSec</span></a></span><span> </span><span class="annot"><span class="annottext">[Section]
</span><a href="#local-6989586621679367992"><span class="hs-identifier hs-var">sec</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | Smart constructor for retrieving the subsections ('Section's) within a 'Section'.</span><span>
</span><span id="line-102"></span><span class="annot"><a href="Language.Drasil.Document.html#getSec"><span class="hs-identifier hs-type">getSec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-103"></span><span id="getSec"><span class="annot"><span class="annottext">getSec :: Section -&gt; [Section]
</span><a href="Language.Drasil.Document.html#getSec"><span class="hs-identifier hs-var hs-var">getSec</span></a></span></span><span> </span><span id="local-6989586621679367989"><span class="annot"><span class="annottext">t :: Section
</span><a href="#local-6989586621679367989"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679367988"><span class="annot"><span class="annottext">sc :: [SecCons]
</span><a href="#local-6989586621679367988"><span class="hs-identifier hs-var">sc</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679367989"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Section -&gt; [Section] -&gt; [Section]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(SecCons -&gt; [Section]) -&gt; [SecCons] -&gt; [Section]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">SecCons -&gt; [Section]
</span><a href="Language.Drasil.Document.html#getSecCons"><span class="hs-identifier hs-var">getSecCons</span></a></span><span> </span><span class="annot"><span class="annottext">[SecCons]
</span><a href="#local-6989586621679367988"><span class="hs-identifier hs-var">sc</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | Helper to retrieve subsections ('Section's) from section contents ('SecCons').</span><span>
</span><span id="line-106"></span><span class="annot"><a href="Language.Drasil.Document.html#getSecCons"><span class="hs-identifier hs-type">getSecCons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.html#SecCons"><span class="hs-identifier hs-type">SecCons</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Drasil.Document.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-107"></span><span id="getSecCons"><span class="annot"><span class="annottext">getSecCons :: SecCons -&gt; [Section]
</span><a href="Language.Drasil.Document.html#getSecCons"><span class="hs-identifier hs-var hs-var">getSecCons</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span id="local-6989586621679367986"><span class="annot"><span class="annottext">sec :: Section
</span><a href="#local-6989586621679367986"><span class="hs-identifier hs-var">sec</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Section -&gt; [Section]
</span><a href="Language.Drasil.Document.html#getSec"><span class="hs-identifier hs-var">getSec</span></a></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621679367986"><span class="hs-identifier hs-var">sec</span></a></span><span>
</span><span id="line-108"></span><span class="annot"><a href="Language.Drasil.Document.html#getSecCons"><span class="hs-identifier hs-var">getSecCons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Drasil.Document.html#Con"><span class="hs-identifier hs-type">Con</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | 'Figure' smart constructor with a 'Lbl' and a 'Filepath'. Assumes 100% of page width as max width.</span><span>
</span><span id="line-111"></span><span class="annot"><a href="Language.Drasil.Document.html#fig"><span class="hs-identifier hs-type">fig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Lbl"><span class="hs-identifier hs-type">Lbl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Filepath"><span class="hs-identifier hs-type">Filepath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#RawContent"><span class="hs-identifier hs-type">RawContent</span></a></span><span>
</span><span id="line-112"></span><span id="fig"><span class="annot"><span class="annottext">fig :: Title -&gt; UID -&gt; RawContent
</span><a href="Language.Drasil.Document.html#fig"><span class="hs-identifier hs-var hs-var">fig</span></a></span></span><span> </span><span id="local-6989586621679367982"><span class="annot"><span class="annottext">l :: Title
</span><a href="#local-6989586621679367982"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679367981"><span class="annot"><span class="annottext">f :: UID
</span><a href="#local-6989586621679367981"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; UID -&gt; MaxWidthPercent -&gt; RawContent
</span><a href="Language.Drasil.Document.Core.html#Figure"><span class="hs-identifier hs-var">Figure</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679367982"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367981"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="hs-number">100</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | 'Figure' smart constructor that allows for customized max widths.</span><span>
</span><span id="line-115"></span><span class="annot"><a href="Language.Drasil.Document.html#figWithWidth"><span class="hs-identifier hs-type">figWithWidth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Lbl"><span class="hs-identifier hs-type">Lbl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#Filepath"><span class="hs-identifier hs-type">Filepath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#MaxWidthPercent"><span class="hs-identifier hs-type">MaxWidthPercent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Document.Core.html#RawContent"><span class="hs-identifier hs-type">RawContent</span></a></span><span>
</span><span id="line-116"></span><span id="figWithWidth"><span class="annot"><span class="annottext">figWithWidth :: Title -&gt; UID -&gt; MaxWidthPercent -&gt; RawContent
</span><a href="Language.Drasil.Document.html#figWithWidth"><span class="hs-identifier hs-var hs-var">figWithWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Title -&gt; UID -&gt; MaxWidthPercent -&gt; RawContent
</span><a href="Language.Drasil.Document.Core.html#Figure"><span class="hs-identifier hs-var">Figure</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- FIXME: horrible hacks.</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- These should eventually either disappear, or at least move out to docLang</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- | Create a reference for a table. Takes in the name of a table (which will also be used for its shortname).</span><span>
</span><span id="line-122"></span><span class="annot"><a href="Language.Drasil.Document.html#makeTabRef"><span class="hs-identifier hs-type">makeTabRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span>
</span><span id="line-123"></span><span id="makeTabRef"><span class="annot"><span class="annottext">makeTabRef :: UID -&gt; Reference
</span><a href="Language.Drasil.Document.html#makeTabRef"><span class="hs-identifier hs-var hs-var">makeTabRef</span></a></span></span><span> </span><span id="local-6989586621679367976"><span class="annot"><span class="annottext">rs :: UID
</span><a href="#local-6989586621679367976"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; LblType -&gt; ShortName -&gt; Reference
</span><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-var">Reference</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367976"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IRefProg -&gt; UID -&gt; LblType
</span><a href="Language.Drasil.Label.Type.html#RP"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; IRefProg
</span><a href="Language.Drasil.Label.Type.html#prepend"><span class="hs-identifier hs-var">prepend</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Tab&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Table:&quot;</span></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID -&gt; UID
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID
</span><a href="Language.Drasil.Misc.html#repUnd"><span class="hs-identifier hs-var">repUnd</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367976"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Title -&gt; ShortName
</span><a href="Language.Drasil.ShortName.html#shortname%27"><span class="hs-identifier hs-var">shortname'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; Title
</span><a href="Language.Drasil.Sentence.html#S"><span class="hs-identifier hs-var">S</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367976"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Create a reference for a figure. Takes in the name of a figure (which will also be used for its shortname).</span><span>
</span><span id="line-126"></span><span class="annot"><a href="Language.Drasil.Document.html#makeFigRef"><span class="hs-identifier hs-type">makeFigRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span>
</span><span id="line-127"></span><span id="makeFigRef"><span class="annot"><span class="annottext">makeFigRef :: UID -&gt; Reference
</span><a href="Language.Drasil.Document.html#makeFigRef"><span class="hs-identifier hs-var hs-var">makeFigRef</span></a></span></span><span> </span><span id="local-6989586621679367973"><span class="annot"><span class="annottext">rs :: UID
</span><a href="#local-6989586621679367973"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; LblType -&gt; ShortName -&gt; Reference
</span><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-var">Reference</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367973"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IRefProg -&gt; UID -&gt; LblType
</span><a href="Language.Drasil.Label.Type.html#RP"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; IRefProg
</span><a href="Language.Drasil.Label.Type.html#prepend"><span class="hs-identifier hs-var">prepend</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Fig&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Figure:&quot;</span></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID -&gt; UID
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID
</span><a href="Language.Drasil.Misc.html#repUnd"><span class="hs-identifier hs-var">repUnd</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367973"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Title -&gt; ShortName
</span><a href="Language.Drasil.ShortName.html#shortname%27"><span class="hs-identifier hs-var">shortname'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; Title
</span><a href="Language.Drasil.Sentence.html#S"><span class="hs-identifier hs-var">S</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367973"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-comment">-- | Create a reference for a section. Takes in the name of a section and a shortname for the section.</span><span>
</span><span id="line-130"></span><span class="annot"><a href="Language.Drasil.Document.html#makeSecRef"><span class="hs-identifier hs-type">makeSecRef</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Sentence.html#Sentence"><span class="hs-identifier hs-type">Sentence</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span>
</span><span id="line-131"></span><span id="makeSecRef"><span class="annot"><span class="annottext">makeSecRef :: UID -&gt; Title -&gt; Reference
</span><a href="Language.Drasil.Document.html#makeSecRef"><span class="hs-identifier hs-var hs-var">makeSecRef</span></a></span></span><span> </span><span id="local-6989586621679367971"><span class="annot"><span class="annottext">r :: UID
</span><a href="#local-6989586621679367971"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621679367970"><span class="annot"><span class="annottext">s :: Title
</span><a href="#local-6989586621679367970"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; LblType -&gt; ShortName -&gt; Reference
</span><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-var">Reference</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367971"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID -&gt; UID
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Label&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IRefProg -&gt; UID -&gt; LblType
</span><a href="Language.Drasil.Label.Type.html#RP"><span class="hs-identifier hs-var">RP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; IRefProg
</span><a href="Language.Drasil.Label.Type.html#prepend"><span class="hs-identifier hs-var">prepend</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Sec&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Sec:&quot;</span></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID -&gt; UID
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">UID -&gt; UID
</span><a href="Language.Drasil.Misc.html#repUnd"><span class="hs-identifier hs-var">repUnd</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367971"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Title -&gt; ShortName
</span><a href="Language.Drasil.ShortName.html#shortname%27"><span class="hs-identifier hs-var">shortname'</span></a></span><span> </span><span class="annot"><span class="annottext">Title
</span><a href="#local-6989586621679367970"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- | Create a reference for a 'URI'.</span><span>
</span><span id="line-135"></span><span class="annot"><a href="Language.Drasil.Document.html#makeURI"><span class="hs-identifier hs-type">makeURI</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Drasil.UID.html#UID"><span class="hs-identifier hs-type">UID</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.ShortName.html#ShortName"><span class="hs-identifier hs-type">ShortName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-type">Reference</span></a></span><span>
</span><span id="line-136"></span><span id="makeURI"><span class="annot"><span class="annottext">makeURI :: UID -&gt; UID -&gt; ShortName -&gt; Reference
</span><a href="Language.Drasil.Document.html#makeURI"><span class="hs-identifier hs-var hs-var">makeURI</span></a></span></span><span> </span><span id="local-6989586621679367968"><span class="annot"><span class="annottext">u :: UID
</span><a href="#local-6989586621679367968"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span id="local-6989586621679367967"><span class="annot"><span class="annottext">r :: UID
</span><a href="#local-6989586621679367967"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UID -&gt; LblType -&gt; ShortName -&gt; Reference
</span><a href="Language.Drasil.Reference.html#Reference"><span class="hs-identifier hs-var">Reference</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367968"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UID -&gt; LblType
</span><a href="Language.Drasil.Label.Type.html#URI"><span class="hs-identifier hs-var">URI</span></a></span><span> </span><span class="annot"><span class="annottext">UID
</span><a href="#local-6989586621679367967"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span></pre></body></html>